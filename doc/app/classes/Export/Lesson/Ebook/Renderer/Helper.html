<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Export::Lesson::Ebook::Renderer::Helper</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../../css/github.css" type="text/css" media="screen" />
<script src="../../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Module</span> 
            Export::Lesson::Ebook::Renderer::Helper 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../../../files/lib/export/lesson/ebook/renderer/helper_rb.html">lib/export/lesson/ebook/renderer/helper.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>TODO provare a memoizzare per vedere l&#39;effetto che fa</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-cover_image_path">cover_image_path</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-dcterms_modified">dcterms_modified</a>,
              </li>
            
              
              <li>
                <a href="#method-i-document_fallback_title">document_fallback_title</a>,
              </li>
            
              
              <li>
                <a href="#method-i-document_item_attributes">document_item_attributes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-document_item_fallback_attributes">document_item_fallback_attributes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-document_path">document_path</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-image_path">image_path</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-math_image_item_href">math_image_item_href</a>,
              </li>
            
              
              <li>
                <a href="#method-i-math_image_item_id">math_image_item_id</a>,
              </li>
            
              
              <li>
                <a href="#method-i-media_element_item_attributes">media_element_item_attributes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-media_element_mime_type">media_element_mime_type</a>,
              </li>
            
              
              <li>
                <a href="#method-i-media_element_path">media_element_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-mime_type">mime_type</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-slide_content">slide_content</a>,
              </li>
            
              
              <li>
                <a href="#method-i-slide_path">slide_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-slide_title">slide_title</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">PACKAGE_ID</td>
            <td>=</td>
            <td class="attr-value">&#x27;DESYLesson&#x27;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"><p>TODO spostarlo nel config</p></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">DCTERMS_MODIFIED_FORMAT</td>
            <td>=</td>
            <td class="attr-value">&#x27;%Y-%m-%dT%H:%M:%SZ&#x27;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">UNKNOWN_MIME_TYPE</td>
            <td>=</td>
            <td class="attr-value">&#x27;application/octet-stream&#x27;</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">MEDIA_ELEMENT_MIME_TYPES</td>
            <td>=</td>
            <td class="attr-value">Media::MIME_TYPES</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">MATH_IMAGES_ARCHIVE_FOLDER_NAME</td>
            <td>=</td>
            <td class="attr-value">Shared::MATH_IMAGES_ARCHIVE_FOLDER_NAME</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-cover_image_path">
            
              <b>cover_image_path</b>(cover_slide)
            
            <a href="../../../../../classes/Export/Lesson/Ebook/Renderer/Helper.html#method-i-cover_image_path" name="method-i-cover_image_path" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-cover_image_path_source')" id="l_method-i-cover_image_path_source">show</a>
                
              </p>
              <div id="method-i-cover_image_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/export/lesson/ebook/renderer/helper.rb, line 49</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">cover_image_path</span>(<span class="ruby-identifier">cover_slide</span>)
  <span class="ruby-identifier">image_path</span> <span class="ruby-identifier">cover_slide</span>.<span class="ruby-identifier">media_elements_slides</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">media_element</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-dcterms_modified">
            
              <b>dcterms_modified</b>(lesson)
            
            <a href="../../../../../classes/Export/Lesson/Ebook/Renderer/Helper.html#method-i-dcterms_modified" name="method-i-dcterms_modified" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-dcterms_modified_source')" id="l_method-i-dcterms_modified_source">show</a>
                
              </p>
              <div id="method-i-dcterms_modified_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/export/lesson/ebook/renderer/helper.rb, line 27</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">dcterms_modified</span>(<span class="ruby-identifier">lesson</span>)
  <span class="ruby-identifier">lesson</span>.<span class="ruby-identifier">updated_at</span>.<span class="ruby-identifier">utc</span>.<span class="ruby-identifier">strftime</span> <span class="ruby-constant">DCTERMS_MODIFIED_FORMAT</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-document_fallback_title">
            
              <b>document_fallback_title</b>(document, position)
            
            <a href="../../../../../classes/Export/Lesson/Ebook/Renderer/Helper.html#method-i-document_fallback_title" name="method-i-document_fallback_title" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-document_fallback_title_source')" id="l_method-i-document_fallback_title_source">show</a>
                
              </p>
              <div id="method-i-document_fallback_title_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/export/lesson/ebook/renderer/helper.rb, line 41</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">document_fallback_title</span>(<span class="ruby-identifier">document</span>, <span class="ruby-identifier">position</span>)
  <span class="ruby-node">&quot;Document #{position} - #{document.title}&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-document_item_attributes">
            
              <b>document_item_attributes</b>(document)
            
            <a href="../../../../../classes/Export/Lesson/Ebook/Renderer/Helper.html#method-i-document_item_attributes" name="method-i-document_item_attributes" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-document_item_attributes_source')" id="l_method-i-document_item_attributes_source">show</a>
                
              </p>
              <div id="method-i-document_item_attributes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/export/lesson/ebook/renderer/helper.rb, line 65</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">document_item_attributes</span>(<span class="ruby-identifier">document</span>)
  <span class="ruby-identifier">href</span> = <span class="ruby-identifier">document_path</span>(<span class="ruby-identifier">document</span>)

  { <span class="ruby-identifier">id</span><span class="ruby-operator">:</span>         <span class="ruby-identifier">document_item_id</span>(<span class="ruby-identifier">document</span>)          ,
    <span class="ruby-identifier">href</span><span class="ruby-operator">:</span>       <span class="ruby-identifier">href</span>                                ,
    <span class="ruby-identifier">fallback</span><span class="ruby-operator">:</span>   <span class="ruby-identifier">document_item_fallback_id</span>(<span class="ruby-identifier">document</span>) ,
    <span class="ruby-identifier">media_type</span><span class="ruby-operator">:</span> <span class="ruby-identifier">mime_type</span>(<span class="ruby-identifier">href</span>)                     }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-document_item_fallback_attributes">
            
              <b>document_item_fallback_attributes</b>(document)
            
            <a href="../../../../../classes/Export/Lesson/Ebook/Renderer/Helper.html#method-i-document_item_fallback_attributes" name="method-i-document_item_fallback_attributes" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-document_item_fallback_attributes_source')" id="l_method-i-document_item_fallback_attributes_source">show</a>
                
              </p>
              <div id="method-i-document_item_fallback_attributes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/export/lesson/ebook/renderer/helper.rb, line 74</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">document_item_fallback_attributes</span>(<span class="ruby-identifier">document</span>)
  { <span class="ruby-identifier">id</span><span class="ruby-operator">:</span>   <span class="ruby-identifier">document_item_fallback_id</span>(<span class="ruby-identifier">document</span>)                     ,
    <span class="ruby-identifier">href</span><span class="ruby-operator">:</span> <span class="ruby-identifier">document_fallbacks_relative_from_content_path</span>(<span class="ruby-identifier">document</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-document_path">
            
              <b>document_path</b>(document)
            
            <a href="../../../../../classes/Export/Lesson/Ebook/Renderer/Helper.html#method-i-document_path" name="method-i-document_path" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-document_path_source')" id="l_method-i-document_path_source">show</a>
                
              </p>
              <div id="method-i-document_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/export/lesson/ebook/renderer/helper.rb, line 61</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">document_path</span>(<span class="ruby-identifier">document</span>)
  <span class="ruby-identifier">document</span>.<span class="ruby-identifier">url</span>(<span class="ruby-value">:export</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-image_path">
            
              <b>image_path</b>(image)
            
            <a href="../../../../../classes/Export/Lesson/Ebook/Renderer/Helper.html#method-i-image_path" name="method-i-image_path" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-image_path_source')" id="l_method-i-image_path_source">show</a>
                
              </p>
              <div id="method-i-image_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/export/lesson/ebook/renderer/helper.rb, line 45</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">image_path</span>(<span class="ruby-identifier">image</span>)
  <span class="ruby-constant">Pathname</span>(<span class="ruby-identifier">image</span>.<span class="ruby-identifier">media</span>.<span class="ruby-identifier">path</span>).<span class="ruby-identifier">relative_path_from</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">public_pathname</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-math_image_item_href">
            
              <b>math_image_item_href</b>(math_image)
            
            <a href="../../../../../classes/Export/Lesson/Ebook/Renderer/Helper.html#method-i-math_image_item_href" name="method-i-math_image_item_href" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-math_image_item_href_source')" id="l_method-i-math_image_item_href_source">show</a>
                
              </p>
              <div id="method-i-math_image_item_href_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/export/lesson/ebook/renderer/helper.rb, line 115</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">math_image_item_href</span>(<span class="ruby-identifier">math_image</span>)
  <span class="ruby-identifier">math_image_path_relative_from_contents_folder</span> <span class="ruby-identifier">math_image</span>.<span class="ruby-identifier">basename</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-math_image_item_id">
            
              <b>math_image_item_id</b>(i)
            
            <a href="../../../../../classes/Export/Lesson/Ebook/Renderer/Helper.html#method-i-math_image_item_id" name="method-i-math_image_item_id" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-math_image_item_id_source')" id="l_method-i-math_image_item_id_source">show</a>
                
              </p>
              <div id="method-i-math_image_item_id_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/export/lesson/ebook/renderer/helper.rb, line 111</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">math_image_item_id</span>(<span class="ruby-identifier">i</span>)
  <span class="ruby-node">&quot;math_image_#{i}&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-media_element_item_attributes">
            
              <b>media_element_item_attributes</b>(media_element, lesson, format)
            
            <a href="../../../../../classes/Export/Lesson/Ebook/Renderer/Helper.html#method-i-media_element_item_attributes" name="method-i-media_element_item_attributes" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-media_element_item_attributes_source')" id="l_method-i-media_element_item_attributes_source">show</a>
                
              </p>
              <div id="method-i-media_element_item_attributes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/export/lesson/ebook/renderer/helper.rb, line 84</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">media_element_item_attributes</span>(<span class="ruby-identifier">media_element</span>, <span class="ruby-identifier">lesson</span>, <span class="ruby-identifier">format</span>)
  <span class="ruby-identifier">id</span> =  <span class="ruby-node">&quot;#{media_element.class.to_s.downcase}_#{media_element.id}&quot;</span>
  <span class="ruby-identifier">id</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;_#{format}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">format</span>

  <span class="ruby-identifier">href</span> = <span class="ruby-identifier">media_element_path</span>(<span class="ruby-identifier">media_element</span>, <span class="ruby-identifier">format</span>)

  <span class="ruby-identifier">properties</span>  = <span class="ruby-identifier">media_element</span>.<span class="ruby-identifier">cover_of?</span>(<span class="ruby-identifier">lesson</span>) <span class="ruby-operator">?</span> <span class="ruby-string">&#39;cover-image&#39;</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>

  { <span class="ruby-identifier">id</span><span class="ruby-operator">:</span>         <span class="ruby-identifier">id</span>                            ,
    <span class="ruby-identifier">href</span><span class="ruby-operator">:</span>       <span class="ruby-identifier">href</span>                          ,
    <span class="ruby-identifier">properties</span><span class="ruby-operator">:</span> <span class="ruby-identifier">properties</span>                    ,
    <span class="ruby-identifier">media_type</span><span class="ruby-operator">:</span> <span class="ruby-identifier">media_element_mime_type</span>(<span class="ruby-identifier">href</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-media_element_mime_type">
            
              <b>media_element_mime_type</b>(path)
            
            <a href="../../../../../classes/Export/Lesson/Ebook/Renderer/Helper.html#method-i-media_element_mime_type" name="method-i-media_element_mime_type" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-media_element_mime_type_source')" id="l_method-i-media_element_mime_type_source">show</a>
                
              </p>
              <div id="method-i-media_element_mime_type_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/export/lesson/ebook/renderer/helper.rb, line 53</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">media_element_mime_type</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-constant">MEDIA_ELEMENT_MIME_TYPES</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">path</span>)) { <span class="ruby-identifier">mime_type</span>(<span class="ruby-identifier">path</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-media_element_path">
            
              <b>media_element_path</b>(media_element, format = nil)
            
            <a href="../../../../../classes/Export/Lesson/Ebook/Renderer/Helper.html#method-i-media_element_path" name="method-i-media_element_path" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-media_element_path_source')" id="l_method-i-media_element_path_source">show</a>
                
              </p>
              <div id="method-i-media_element_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/export/lesson/ebook/renderer/helper.rb, line 79</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">media_element_path</span>(<span class="ruby-identifier">media_element</span>, <span class="ruby-identifier">format</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">href_method</span> = <span class="ruby-identifier">format</span> <span class="ruby-operator">?</span> <span class="ruby-value">:&quot;#{format}_url&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value">:url</span>
  <span class="ruby-identifier">media_element</span>.<span class="ruby-identifier">send</span> <span class="ruby-identifier">href_method</span>, <span class="ruby-value">:export</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-mime_type">
            
              <b>mime_type</b>(path)
            
            <a href="../../../../../classes/Export/Lesson/Ebook/Renderer/Helper.html#method-i-mime_type" name="method-i-mime_type" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-mime_type_source')" id="l_method-i-mime_type_source">show</a>
                
              </p>
              <div id="method-i-mime_type_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/export/lesson/ebook/renderer/helper.rb, line 57</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">mime_type</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-constant">MIME</span><span class="ruby-operator">::</span><span class="ruby-constant">Types</span>.<span class="ruby-identifier">of</span>(<span class="ruby-identifier">path</span>.<span class="ruby-identifier">to_s</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">try</span>(<span class="ruby-value">:content_type</span>) <span class="ruby-operator">||</span> <span class="ruby-constant">UNKNOWN_MIME_TYPE</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-slide_content">
            
              <b>slide_content</b>(slide)
            
            <a href="../../../../../classes/Export/Lesson/Ebook/Renderer/Helper.html#method-i-slide_content" name="method-i-slide_content" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-slide_content_source')" id="l_method-i-slide_content_source">show</a>
                
              </p>
              <div id="method-i-slide_content_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/export/lesson/ebook/renderer/helper.rb, line 98</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">slide_content</span>(<span class="ruby-identifier">slide</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">slide</span>.<span class="ruby-identifier">text</span>
  
  <span class="ruby-identifier">fragment</span> = <span class="ruby-constant">Nokogiri</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">DocumentFragment</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">slide</span>.<span class="ruby-identifier">text</span>)
  
  <span class="ruby-identifier">fragment</span>.<span class="ruby-identifier">css</span>(<span class="ruby-constant">Slide</span><span class="ruby-operator">::</span><span class="ruby-constant">MathImages</span><span class="ruby-operator">::</span><span class="ruby-constant">CSS_SELECTOR</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">el</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">math_image_basename</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span> <span class="ruby-constant">CGI</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-constant">URI</span>(<span class="ruby-node">&quot;http://www.example.com/#{el[:src]}&quot;</span>).<span class="ruby-identifier">query</span>)[<span class="ruby-string">&#39;formula&#39;</span>].<span class="ruby-identifier">first</span>
    <span class="ruby-identifier">el</span>[<span class="ruby-value">:src</span>] = <span class="ruby-identifier">math_image_path_relative_from_contents_folder</span> <span class="ruby-identifier">math_image_basename</span>
  <span class="ruby-keyword">end</span>
  
  <span class="ruby-identifier">fragment</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">html_safe</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-slide_path">
            
              <b>slide_path</b>(slide)
            
            <a href="../../../../../classes/Export/Lesson/Ebook/Renderer/Helper.html#method-i-slide_path" name="method-i-slide_path" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-slide_path_source')" id="l_method-i-slide_path_source">show</a>
                
              </p>
              <div id="method-i-slide_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/export/lesson/ebook/renderer/helper.rb, line 31</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">slide_path</span>(<span class="ruby-identifier">slide</span>)
  <span class="ruby-identifier">slide_filename</span> <span class="ruby-identifier">slide</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-slide_title">
            
              <b>slide_title</b>(slide)
            
            <a href="../../../../../classes/Export/Lesson/Ebook/Renderer/Helper.html#method-i-slide_title" name="method-i-slide_title" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-slide_title_source')" id="l_method-i-slide_title_source">show</a>
                
              </p>
              <div id="method-i-slide_title_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/export/lesson/ebook/renderer/helper.rb, line 35</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">slide_title</span>(<span class="ruby-identifier">slide</span>)
  <span class="ruby-identifier">title</span> =  <span class="ruby-node">&quot;Slide #{slide.position-1}&quot;</span>
  <span class="ruby-identifier">title</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; - #{slide.title}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">slide</span>.<span class="ruby-identifier">title</span>.<span class="ruby-identifier">present?</span>
  <span class="ruby-identifier">title</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    