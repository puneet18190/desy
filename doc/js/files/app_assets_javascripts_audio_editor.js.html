<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>app&#x2F;assets&#x2F;javascripts&#x2F;audio_editor.js - DESY</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.8.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.8.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="DESY"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 1.0.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/addEmailToVirtualClassroomSendLessonLinkSelector.html">addEmailToVirtualClassroomSendLessonLinkSelector</a></li>
            
                <li><a href="..&#x2F;classes/addTagWithoutSuggestion.html">addTagWithoutSuggestion</a></li>
            
                <li><a href="..&#x2F;classes/addToTagsValue.html">addToTagsValue</a></li>
            
                <li><a href="..&#x2F;classes/AdminAutocomplete.html">AdminAutocomplete</a></li>
            
                <li><a href="..&#x2F;classes/AdminCollapsed.html">AdminCollapsed</a></li>
            
                <li><a href="..&#x2F;classes/AdminDocumentReady.html">AdminDocumentReady</a></li>
            
                <li><a href="..&#x2F;classes/AjaxLoaderBinder.html">AjaxLoaderBinder</a></li>
            
                <li><a href="..&#x2F;classes/AjaxLoaderDocumentReady.html">AjaxLoaderDocumentReady</a></li>
            
                <li><a href="..&#x2F;classes/AjaxLoaderVisibility.html">AjaxLoaderVisibility</a></li>
            
                <li><a href="..&#x2F;classes/AudioEditorComponents.html">AudioEditorComponents</a></li>
            
                <li><a href="..&#x2F;classes/AudioEditorCutters.html">AudioEditorCutters</a></li>
            
                <li><a href="..&#x2F;classes/AudioEditorDocumentReady.html">AudioEditorDocumentReady</a></li>
            
                <li><a href="..&#x2F;classes/AudioEditorGalleries.html">AudioEditorGalleries</a></li>
            
                <li><a href="..&#x2F;classes/AudioEditorGeneral.html">AudioEditorGeneral</a></li>
            
                <li><a href="..&#x2F;classes/AudioEditorGraphics.html">AudioEditorGraphics</a></li>
            
                <li><a href="..&#x2F;classes/AudioEditorPreview.html">AudioEditorPreview</a></li>
            
                <li><a href="..&#x2F;classes/AudioEditorScrollpain.html">AudioEditorScrollpain</a></li>
            
                <li><a href="..&#x2F;classes/ButtonsAccessories.html">ButtonsAccessories</a></li>
            
                <li><a href="..&#x2F;classes/ButtonsDocumentReady.html">ButtonsDocumentReady</a></li>
            
                <li><a href="..&#x2F;classes/ButtonsLesson.html">ButtonsLesson</a></li>
            
                <li><a href="..&#x2F;classes/ButtonsMediaElement.html">ButtonsMediaElement</a></li>
            
                <li><a href="..&#x2F;classes/checkNoTagDuplicates.html">checkNoTagDuplicates</a></li>
            
                <li><a href="..&#x2F;classes/closeGenericVideoComponentCutter.html">closeGenericVideoComponentCutter</a></li>
            
                <li><a href="..&#x2F;classes/createTagSpan.html">createTagSpan</a></li>
            
                <li><a href="..&#x2F;classes/DashboardDocumentReady.html">DashboardDocumentReady</a></li>
            
                <li><a href="..&#x2F;classes/DashboardGeneral.html">DashboardGeneral</a></li>
            
                <li><a href="..&#x2F;classes/DashboardPagination.html">DashboardPagination</a></li>
            
                <li><a href="..&#x2F;classes/DialogsAccessories.html">DialogsAccessories</a></li>
            
                <li><a href="..&#x2F;classes/DialogsConfirmation.html">DialogsConfirmation</a></li>
            
                <li><a href="..&#x2F;classes/DialogsGalleries.html">DialogsGalleries</a></li>
            
                <li><a href="..&#x2F;classes/DialogsTimed.html">DialogsTimed</a></li>
            
                <li><a href="..&#x2F;classes/DialogsWithForm.html">DialogsWithForm</a></li>
            
                <li><a href="..&#x2F;classes/disableTagsInputTooHigh.html">disableTagsInputTooHigh</a></li>
            
                <li><a href="..&#x2F;classes/GalleriesAccessories.html">GalleriesAccessories</a></li>
            
                <li><a href="..&#x2F;classes/GalleriesDocumentReady.html">GalleriesDocumentReady</a></li>
            
                <li><a href="..&#x2F;classes/GalleriesInitializers.html">GalleriesInitializers</a></li>
            
                <li><a href="..&#x2F;classes/GeneralCentering.html">GeneralCentering</a></li>
            
                <li><a href="..&#x2F;classes/GeneralDocumentReady.html">GeneralDocumentReady</a></li>
            
                <li><a href="..&#x2F;classes/GeneralMiscellanea.html">GeneralMiscellanea</a></li>
            
                <li><a href="..&#x2F;classes/GeneralUrls.html">GeneralUrls</a></li>
            
                <li><a href="..&#x2F;classes/getMaximumZIndex.html">getMaximumZIndex</a></li>
            
                <li><a href="..&#x2F;classes/getUnivoqueClassForTag.html">getUnivoqueClassForTag</a></li>
            
                <li><a href="..&#x2F;classes/ImageEditorDocumentReady.html">ImageEditorDocumentReady</a></li>
            
                <li><a href="..&#x2F;classes/ImageEditorGraphics.html">ImageEditorGraphics</a></li>
            
                <li><a href="..&#x2F;classes/ImageEditorImageScale.html">ImageEditorImageScale</a></li>
            
                <li><a href="..&#x2F;classes/ImageEditorTexts.html">ImageEditorTexts</a></li>
            
                <li><a href="..&#x2F;classes/initializeDraggableVirtualClassroomLesson.html">initializeDraggableVirtualClassroomLesson</a></li>
            
                <li><a href="..&#x2F;classes/initializeNotAvailableLessonsToLoadQuick.html">initializeNotAvailableLessonsToLoadQuick</a></li>
            
                <li><a href="..&#x2F;classes/initializePlaylist.html">initializePlaylist</a></li>
            
                <li><a href="..&#x2F;classes/initializeScrollPaneQuickLessonSelector.html">initializeScrollPaneQuickLessonSelector</a></li>
            
                <li><a href="..&#x2F;classes/initializeVideoEditor.html">initializeVideoEditor</a></li>
            
                <li><a href="..&#x2F;classes/initializeVirtualClassroom.html">initializeVirtualClassroom</a></li>
            
                <li><a href="..&#x2F;classes/initSearchTagsAutocomplete.html">initSearchTagsAutocomplete</a></li>
            
                <li><a href="..&#x2F;classes/LessonEditorCurrentSlide.html">LessonEditorCurrentSlide</a></li>
            
                <li><a href="..&#x2F;classes/LessonEditorDocumentReady.html">LessonEditorDocumentReady</a></li>
            
                <li><a href="..&#x2F;classes/LessonEditorForms.html">LessonEditorForms</a></li>
            
                <li><a href="..&#x2F;classes/LessonEditorGalleries.html">LessonEditorGalleries</a></li>
            
                <li><a href="..&#x2F;classes/LessonEditorImageResizing.html">LessonEditorImageResizing</a></li>
            
                <li><a href="..&#x2F;classes/LessonEditorJqueryAnimations.html">LessonEditorJqueryAnimations</a></li>
            
                <li><a href="..&#x2F;classes/LessonEditorSlideLoading.html">LessonEditorSlideLoading</a></li>
            
                <li><a href="..&#x2F;classes/LessonEditorSlidesNavigation.html">LessonEditorSlidesNavigation</a></li>
            
                <li><a href="..&#x2F;classes/LessonEditorTinyMCE.html">LessonEditorTinyMCE</a></li>
            
                <li><a href="..&#x2F;classes/LessonViewerDocumentReady.html">LessonViewerDocumentReady</a></li>
            
                <li><a href="..&#x2F;classes/LessonViewerGeneral.html">LessonViewerGeneral</a></li>
            
                <li><a href="..&#x2F;classes/LessonViewerGraphics.html">LessonViewerGraphics</a></li>
            
                <li><a href="..&#x2F;classes/LessonViewerPlaylist.html">LessonViewerPlaylist</a></li>
            
                <li><a href="..&#x2F;classes/LessonViewerSlidesNavigation.html">LessonViewerSlidesNavigation</a></li>
            
                <li><a href="..&#x2F;classes/MediaElementEditorCache.html">MediaElementEditorCache</a></li>
            
                <li><a href="..&#x2F;classes/MediaElementEditorDocumentReady.html">MediaElementEditorDocumentReady</a></li>
            
                <li><a href="..&#x2F;classes/MediaElementEditorForms.html">MediaElementEditorForms</a></li>
            
                <li><a href="..&#x2F;classes/MediaElementEditorHorizontalTimelines.html">MediaElementEditorHorizontalTimelines</a></li>
            
                <li><a href="..&#x2F;classes/MediaElementLoaderDocumentReady.html">MediaElementLoaderDocumentReady</a></li>
            
                <li><a href="..&#x2F;classes/MediaElementLoaderDone.html">MediaElementLoaderDone</a></li>
            
                <li><a href="..&#x2F;classes/MediaElementLoaderErrors.html">MediaElementLoaderErrors</a></li>
            
                <li><a href="..&#x2F;classes/MediaElementLoaderGeneral.html">MediaElementLoaderGeneral</a></li>
            
                <li><a href="..&#x2F;classes/NotificationsAccessories.html">NotificationsAccessories</a></li>
            
                <li><a href="..&#x2F;classes/NotificationsDocumentReady.html">NotificationsDocumentReady</a></li>
            
                <li><a href="..&#x2F;classes/NotificationsGraphics.html">NotificationsGraphics</a></li>
            
                <li><a href="..&#x2F;classes/PlayersAudioEditor.html">PlayersAudioEditor</a></li>
            
                <li><a href="..&#x2F;classes/PlayersCommon.html">PlayersCommon</a></li>
            
                <li><a href="..&#x2F;classes/PlayersDocumentReady.html">PlayersDocumentReady</a></li>
            
                <li><a href="..&#x2F;classes/PlayersGeneral.html">PlayersGeneral</a></li>
            
                <li><a href="..&#x2F;classes/PlayersVideoEditor.html">PlayersVideoEditor</a></li>
            
                <li><a href="..&#x2F;classes/ProfilePrelogin.html">ProfilePrelogin</a></li>
            
                <li><a href="..&#x2F;classes/ProfileUsers.html">ProfileUsers</a></li>
            
                <li><a href="..&#x2F;classes/removeFromTagsValue.html">removeFromTagsValue</a></li>
            
                <li><a href="..&#x2F;classes/SearchDocumentReady.html">SearchDocumentReady</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/administration.html">administration</a></li>
            
                <li><a href="..&#x2F;modules/ajax-loader.html">ajax-loader</a></li>
            
                <li><a href="..&#x2F;modules/audio-editor.html">audio-editor</a></li>
            
                <li><a href="..&#x2F;modules/buttons.html">buttons</a></li>
            
                <li><a href="..&#x2F;modules/dashboard.html">dashboard</a></li>
            
                <li><a href="..&#x2F;modules/dialogs.html">dialogs</a></li>
            
                <li><a href="..&#x2F;modules/galleries.html">galleries</a></li>
            
                <li><a href="..&#x2F;modules/general.html">general</a></li>
            
                <li><a href="..&#x2F;modules/image-editor.html">image-editor</a></li>
            
                <li><a href="..&#x2F;modules/lesson-editor.html">lesson-editor</a></li>
            
                <li><a href="..&#x2F;modules/lesson-viewer.html">lesson-viewer</a></li>
            
                <li><a href="..&#x2F;modules/media-element-editor.html">media-element-editor</a></li>
            
                <li><a href="..&#x2F;modules/media-element-loader.html">media-element-loader</a></li>
            
                <li><a href="..&#x2F;modules/notifications.html">notifications</a></li>
            
                <li><a href="..&#x2F;modules/players.html">players</a></li>
            
                <li><a href="..&#x2F;modules/profile.html">profile</a></li>
            
                <li><a href="..&#x2F;modules/search.html">search</a></li>
            
                <li><a href="..&#x2F;modules/tags.html">tags</a></li>
            
                <li><a href="..&#x2F;modules/video-editor.html">video-editor</a></li>
            
                <li><a href="..&#x2F;modules/virtual-classroom.html">virtual-classroom</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: app&#x2F;assets&#x2F;javascripts&#x2F;audio_editor.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
bla bla bla
@module audio-editor
**&#x2F;





&#x2F;**
bla bla bla
@method addComponentInAudioEditor
@for AudioEditorComponents
**&#x2F;
function addComponentInAudioEditor(audio_id, ogg, mp3, duration, title) {
  var next_position = $(&#x27;#info_container&#x27;).data(&#x27;last-component-id&#x27;) + 1;
  var selected_component = $(&#x27;._audio_editor_component._selected&#x27;);
  $(&#x27;#info_container&#x27;).data(&#x27;last-component-id&#x27;, next_position);
  var empty_component = $($(&#x27;#empty_component_for_audio_editor&#x27;).html());
  empty_component.attr(&#x27;id&#x27;, (&#x27;audio_component_&#x27; + next_position));
  empty_component.find(&#x27;source[type=&quot;audio&#x2F;ogg&quot;]&#x27;).attr(&#x27;src&#x27;, ogg);
  empty_component.find(&#x27;source[type=&quot;audio&#x2F;mp3&quot;]&#x27;).attr(&#x27;src&#x27;, mp3);
  empty_component.data(&#x27;duration&#x27;, 0);
  empty_component.data(&#x27;from&#x27;, 0);
  empty_component.data(&#x27;to&#x27;, duration);
  empty_component.data(&#x27;max-to&#x27;, duration);
  empty_component.find(&#x27;._title&#x27;).html(title);
  empty_component.removeClass(&#x27;_audio_editor_empty_component&#x27;).addClass(&#x27;_audio_editor_component&#x27;);
  empty_component.find(&#x27;._current_time&#x27;).html(secondsToDateString(0));
  empty_component.find(&#x27;._total_length&#x27;).html(secondsToDateString(duration));
  empty_component.find(&#x27;._cutter_from&#x27;).html(secondsToDateString(0));
  empty_component.find(&#x27;._cutter_to&#x27;).html(secondsToDateString(duration));
  var to_be_appended = fillAudioEditorSingleParameter(&#x27;audio_id&#x27;, next_position, audio_id);
  to_be_appended += fillAudioEditorSingleParameter(&#x27;from&#x27;, next_position, 0);
  to_be_appended += fillAudioEditorSingleParameter(&#x27;to&#x27;, next_position, duration);
  to_be_appended += fillAudioEditorSingleParameter(&#x27;position&#x27;, next_position, next_position);
  if(selected_component.length == 0) {
    $(&#x27;#audio_editor_timeline .jspPane&#x27;).append(empty_component);
  } else {
    selected_component.after(empty_component);
  }
  empty_component.append(to_be_appended);
  empty_component.find(&#x27;audio&#x27;).load();
  initializeAudioEditorCutter(next_position);
  reloadAudioEditorComponentPositions(empty_component);
  changeDurationAudioEditorComponent(empty_component, duration);
  if(selected_component.length == 0) {
    resizeLastComponentInAudioEditor();
  }
  if($(&#x27;._audio_editor_component&#x27;).length == 1) {
    enableCommitAndPreviewInAudioEditor();
  }
  setTimeout(function() {
    scrollToFirstSelectedAudioEditorComponent();
    selectAudioEditorComponent(empty_component);
    empty_component.find(&#x27;._title&#x27;).effect(&#x27;highlight&#x27;, {color: &#x27;#41A62A&#x27;}, 1000);
  }, 500);
}

&#x2F;**
bla bla bla
@method changeDurationAudioEditorComponent
@for AudioEditorComponents
**&#x2F;
function changeDurationAudioEditorComponent(component, new_duration) {
  var old_duration = component.data(&#x27;duration&#x27;);
  var total_length = $(&#x27;#info_container&#x27;).data(&#x27;total-length&#x27;);
  total_length -= old_duration;
  total_length += new_duration;
  component.data(&#x27;duration&#x27;, new_duration);
  $(&#x27;#info_container&#x27;).data(&#x27;total-length&#x27;, total_length);
  $(&#x27;#visual_audio_editor_total_length&#x27;).html(secondsToDateString(total_length));
}

&#x2F;**
bla bla bla
@method deselectAllAudioEditorComponents
@for AudioEditorComponents
**&#x2F;
function deselectAllAudioEditorComponents() {
  var selected_component = $(&#x27;._audio_editor_component._selected&#x27;);
  if(selected_component.length &gt; 0) {
    var pause = selected_component.find(&#x27;._media_player_pause_in_audio_editor_preview&#x27;);
    if(pause.is(&#x27;:visible&#x27;)) {
      pause.click();
    }
    deselectAllAudioEditorCursors(getAudioComponentIdentifier(selected_component));
  }
  $(&#x27;._audio_editor_component._selected ._content&#x27;).removeClass(&#x27;current&#x27;);
  $(&#x27;._audio_editor_component._selected ._box_ghost&#x27;).show();
  $(&#x27;._audio_editor_component._selected ._sort_handle&#x27;).removeClass(&#x27;current&#x27;);
  $(&#x27;._audio_editor_component._selected ._player_content&#x27;).css(&#x27;opacity&#x27;, 0.2);
  $(&#x27;.msie ._audio_editor_component._selected ._double_slider .ui-slider-range&#x27;).css(&#x27;opacity&#x27;, 0.4);
  $(&#x27;._audio_editor_component._selected ._controls&#x27;).css(&#x27;visibility&#x27;, &#x27;hidden&#x27;);
  $(&#x27;._audio_editor_component._selected&#x27;).removeClass(&#x27;_selected&#x27;);
}

&#x2F;**
bla bla bla
@method fillAudioEditorSingleParameter
@for AudioEditorComponents
**&#x2F;
function fillAudioEditorSingleParameter(input, identifier, value) {
  return &#x27;&lt;input id=&quot;&#x27; + input + &#x27;_&#x27; + identifier + &#x27;&quot; class=&quot;_audio_component_input_&#x27; + input + &#x27;&quot; type=&quot;hidden&quot; value=&quot;&#x27; + value + &#x27;&quot; name=&quot;&#x27; + input + &#x27;_&#x27; + identifier + &#x27;&quot;&gt;&#x27;;
}

&#x2F;**
bla bla bla
@method loadAudioComponentIfNotLoadedYet
@for AudioEditorComponents
**&#x2F;
function loadAudioComponentIfNotLoadedYet(component) {
  if(!component.data(&#x27;loaded&#x27;)) {
    var mp3 = component.data(&#x27;mp3&#x27;);
    var ogg = component.data(&#x27;ogg&#x27;);
    component.find(&#x27;source[type=&quot;audio&#x2F;mp3&quot;]&#x27;).attr(&#x27;src&#x27;, mp3);
    component.find(&#x27;source[type=&quot;audio&#x2F;ogg&quot;]&#x27;).attr(&#x27;src&#x27;, ogg);
    component.find(&#x27;audio&#x27;).load();
    component.data(&#x27;loaded&#x27;, true);
  }
}

&#x2F;**
bla bla bla
@method reloadAudioEditorComponentPositions
@for AudioEditorComponents
**&#x2F;
function reloadAudioEditorComponentPositions() {
  var components = $(&#x27;._audio_editor_component&#x27;);
  components.each(function(index) {
    $(this).data(&#x27;position&#x27;, (index + 1));
    $(this).find(&#x27;._audio_component_input_position&#x27;).val(index + 1);
    $(this).find(&#x27;._audio_component_icon&#x27;).html(index + 1);
  });
}

&#x2F;**
bla bla bla
@method removeAudioEditorComponent
@for AudioEditorComponents
**&#x2F;
function removeAudioEditorComponent(component) {
  if(component.hasClass(&#x27;_selected&#x27;)) {
    component.find(&#x27;._media_player_pause_in_audio_editor_preview&#x27;).click();
  }
  component.hide(&#x27;fade&#x27;, {}, 500, function() {
    changeDurationAudioEditorComponent(component, 0);
    $(this).remove();
    reloadAudioEditorComponentPositions();
    if($(&#x27;._audio_editor_component&#x27;).length == 0) {
      disableCommitAndPreviewInAudioEditor();
    }
    resizeLastComponentInAudioEditor();
  });
}

&#x2F;**
bla bla bla
@method resizeLastComponentInAudioEditor
@for AudioEditorComponents
**&#x2F;
function resizeLastComponentInAudioEditor() {
  $(&#x27;._audio_editor_component._last&#x27;).last().removeClass(&#x27;_last&#x27;)
  $(&#x27;._audio_editor_component&#x27;).last().addClass(&#x27;_last&#x27;);
}

&#x2F;**
bla bla bla
@method selectAudioEditorComponent
@for AudioEditorComponents
**&#x2F;
function selectAudioEditorComponent(component) {
  loadAudioComponentIfNotLoadedYet(component);
  deselectAllAudioEditorComponents();
  component.addClass(&#x27;_selected&#x27;);
  component.find(&#x27;._content&#x27;).addClass(&#x27;current&#x27;);
  component.find(&#x27;._box_ghost&#x27;).hide();
  component.find(&#x27;._sort_handle&#x27;).addClass(&#x27;current&#x27;);
  component.find(&#x27;._player_content&#x27;).css(&#x27;opacity&#x27;, 1);
  if($(&#x27;html&#x27;).hasClass(&#x27;msie&#x27;)) {
    component.find(&#x27;._double_slider .ui-slider-range&#x27;).css(&#x27;opacity&#x27;, 1);
  }
  component.find(&#x27;._controls&#x27;).css(&#x27;visibility&#x27;, &#x27;visible&#x27;);
  selectAudioEditorCursor(getAudioComponentIdentifier(component));
}





&#x2F;**
bla bla bla
@method cutAudioComponentLeftSide
@for AudioEditorCutters
**&#x2F;
function cutAudioComponentLeftSide(identifier, pos) {
  var component = $(&#x27;#audio_component_&#x27; + identifier);
  var new_duration = component.data(&#x27;to&#x27;) - pos;
  component.data(&#x27;from&#x27;, pos);
  component.find(&#x27;._cutter_from&#x27;).html(secondsToDateString(pos));
  component.find(&#x27;._audio_component_input_from&#x27;).val(pos);
  changeDurationAudioEditorComponent(component, new_duration);
}

&#x2F;**
bla bla bla
@method cutAudioComponentRightSide
@for AudioEditorCutters
**&#x2F;
function cutAudioComponentRightSide(identifier, pos) {
  var component = $(&#x27;#audio_component_&#x27; + identifier);
  var new_duration = pos - component.data(&#x27;from&#x27;);
  component.data(&#x27;to&#x27;, pos);
  component.find(&#x27;._cutter_to&#x27;).html(secondsToDateString(pos));
  component.find(&#x27;._audio_component_input_to&#x27;).val(pos);
  changeDurationAudioEditorComponent(component, new_duration);
}

&#x2F;**
bla bla bla
@method deselectAllAudioEditorCursors
@for AudioEditorCutters
**&#x2F;
function deselectAllAudioEditorCursors(id) {
  $(&#x27;#audio_component_&#x27; + id + &#x27; .ui-slider-handle&#x27;).removeClass(&#x27;selected&#x27;);
  $(&#x27;#audio_component_&#x27; + id + &#x27; ._cutter_from, #audio_component_&#x27; + id + &#x27; ._cutter_to, #audio_component_&#x27; + id + &#x27; ._current_time&#x27;).removeClass(&#x27;selected&#x27;);
}

&#x2F;**
bla bla bla
@method selectAudioEditorCursor
@for AudioEditorCutters
**&#x2F;
function selectAudioEditorCursor(id) {
  deselectAllAudioEditorCursors(id);
  $(&#x27;#audio_component_&#x27; + id + &#x27; ._media_player_slider .ui-slider-handle&#x27;).addClass(&#x27;selected&#x27;);
  $(&#x27;#audio_component_&#x27; + id + &#x27; ._current_time&#x27;).addClass(&#x27;selected&#x27;);
}

&#x2F;**
bla bla bla
@method selectAudioEditorLeftHandle
@for AudioEditorCutters
**&#x2F;
function selectAudioEditorLeftHandle(id) {
  deselectAllAudioEditorCursors(id);
  $(&#x27;#audio_component_&#x27; + id + &#x27; ._double_slider .ui-slider-handle&#x27;).first().addClass(&#x27;selected&#x27;);
  $(&#x27;#audio_component_&#x27; + id + &#x27; ._cutter_from&#x27;).addClass(&#x27;selected&#x27;);
}

&#x2F;**
bla bla bla
@method selectAudioEditorRightHandle
@for AudioEditorCutters
**&#x2F;
function selectAudioEditorRightHandle(id) {
  deselectAllAudioEditorCursors(id);
  $($(&#x27;#audio_component_&#x27; + id + &#x27; ._double_slider .ui-slider-handle&#x27;)[1]).addClass(&#x27;selected&#x27;);
  $(&#x27;#audio_component_&#x27; + id + &#x27; ._cutter_to&#x27;).addClass(&#x27;selected&#x27;);
}





&#x2F;**
bla bla bla
@method audioEditorDocumentReady
@for AudioEditorDocumentReady
**&#x2F;
function audioEditorDocumentReady() {
  audioEditorDocumentReadyCommit();
  audioEditorDocumentReadyPreview();
  audioEditorDocumentReadyCutters();
  audioEditorDocumentReadyGeneral();
}

&#x2F;**
bla bla bla
@method audioEditorDocumentReadyCommit
@for AudioEditorDocumentReady
**&#x2F;
function audioEditorDocumentReadyCommit() {
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._exit_audio_editor&#x27;, function() {
    stopCacheLoop();
    var captions = $(&#x27;#popup_captions_container&#x27;);
    showConfirmPopUp(captions.data(&#x27;exit-audio-editor-title&#x27;), captions.data(&#x27;exit-audio-editor-confirm&#x27;), captions.data(&#x27;exit-audio-editor-yes&#x27;), captions.data(&#x27;exit-audio-editor-no&#x27;), function() {
      $(&#x27;dialog-confirm&#x27;).hide();
      $.ajax({
        type: &#x27;post&#x27;,
        url: &#x27;&#x2F;audios&#x2F;cache&#x2F;empty&#x27;,
        beforeSend: unbindLoader(),
        success: function() {
          window.location = &#x27;&#x2F;media_elements&#x27;;
        }
      }).always(bindLoader);
    }, function() {
      if($(&#x27;#form_info_update_media_element_in_editor&#x27;).length == 0) {
        if(!$(&#x27;#form_info_new_media_element_in_editor&#x27;).is(&#x27;:visible&#x27;)) {
          startCacheLoop();
        }
      } else {
        if(!$(&#x27;#form_info_new_media_element_in_editor&#x27;).is(&#x27;:visible&#x27;) &amp;&amp; !$(&#x27;#form_info_update_media_element_in_editor&#x27;).is(&#x27;:visible&#x27;)) {
          startCacheLoop();
        }
      }
      closePopUp(&#x27;dialog-confirm&#x27;);
    });
  });
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#commit_audio_editor&#x27;, function() {
    stopCacheLoop();
    submitMediaElementEditorCacheForm($(&#x27;#audio_editor_form&#x27;));
    if($(this).hasClass(&#x27;_with_choice&#x27;)) {
      var captions = $(&#x27;#popup_captions_container&#x27;);
      var title = captions.data(&#x27;save-media-element-editor-title&#x27;);
      var confirm = captions.data(&#x27;save-media-element-editor-confirm&#x27;);
      var yes = captions.data(&#x27;save-media-element-editor-yes&#x27;);
      var no = captions.data(&#x27;save-media-element-editor-no&#x27;);
      showConfirmPopUp(title, confirm, yes, no, function() {
        closePopUp(&#x27;dialog-confirm&#x27;);
        showCommitAudioEditorForm(&#x27;update&#x27;);
      }, function() {
        closePopUp(&#x27;dialog-confirm&#x27;);
        $(&#x27;#audio_editor_title ._titled&#x27;).hide();
        $(&#x27;#audio_editor_title ._untitled&#x27;).show();
        showCommitAudioEditorForm(&#x27;new&#x27;);
      });
    } else {
      showCommitAudioEditorForm(&#x27;new&#x27;);
    }
  });
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#audio_editor #form_info_new_media_element_in_editor ._cancel&#x27;, function() {
    $(&#x27;#audio_editor_form&#x27;).attr(&#x27;action&#x27;, &#x27;&#x2F;audios&#x2F;cache&#x2F;save&#x27;);
    resetMediaElementEditorForms();
    if($(&#x27;#audio_editor_title ._titled&#x27;).length &gt; 0) {
      $(&#x27;#audio_editor_title ._titled&#x27;).show();
      $(&#x27;#audio_editor_title ._untitled&#x27;).hide();
    }
    hideCommitAudioEditorForm(&#x27;new&#x27;);
    startCacheLoop();
  });
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#audio_editor #form_info_update_media_element_in_editor ._cancel&#x27;, function() {
    $(&#x27;#audio_editor_form&#x27;).attr(&#x27;action&#x27;, &#x27;&#x2F;audios&#x2F;cache&#x2F;save&#x27;);
    resetMediaElementEditorForms();
    hideCommitAudioEditorForm(&#x27;update&#x27;);
    startCacheLoop();
  });
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#audio_editor #form_info_new_media_element_in_editor ._commit&#x27;, function() {
    $(&#x27;#audio_editor_form&#x27;).attr(&#x27;action&#x27;, &#x27;&#x2F;audios&#x2F;commit&#x2F;new&#x27;);
    $(&#x27;#audio_editor_form&#x27;).submit();
  });
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#audio_editor #form_info_update_media_element_in_editor ._commit&#x27;, function() {
    if($(&#x27;#info_container&#x27;).data(&#x27;used-in-private-lessons&#x27;)) {
      var captions = $(&#x27;#popup_captions_container&#x27;);
      var title = captions.data(&#x27;overwrite-media-element-editor-title&#x27;);
      var confirm = captions.data(&#x27;overwrite-media-element-editor-confirm&#x27;);
      var yes = captions.data(&#x27;overwrite-media-element-editor-yes&#x27;);
      var no = captions.data(&#x27;overwrite-media-element-editor-no&#x27;);
      showConfirmPopUp(title, confirm, yes, no, function() {
        $(&#x27;dialog-confirm&#x27;).hide();
        $(&#x27;#audio_editor_form&#x27;).attr(&#x27;action&#x27;, &#x27;&#x2F;audios&#x2F;commit&#x2F;overwrite&#x27;);
        $(&#x27;#audio_editor_form&#x27;).submit();
      }, function() {
        closePopUp(&#x27;dialog-confirm&#x27;);
      });
    } else {
      $(&#x27;#audio_editor_form&#x27;).attr(&#x27;action&#x27;, &#x27;&#x2F;audios&#x2F;commit&#x2F;overwrite&#x27;);
      $(&#x27;#audio_editor_form&#x27;).submit();
    }
  });
}

&#x2F;**
bla bla bla
@method audioEditorDocumentReadyCutters
@for AudioEditorDocumentReady
**&#x2F;
function audioEditorDocumentReadyCutters() {
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._audio_editor_component ._precision_arrow_left&#x27;, function() {
    var component = $(this).parents(&#x27;._audio_editor_component&#x27;);
    var identifier = getAudioComponentIdentifier(component);
    var single_slider = component.find(&#x27;._media_player_slider&#x27;);
    var double_slider = component.find(&#x27;._double_slider&#x27;);
    if(single_slider.find(&#x27;.ui-slider-handle&#x27;).hasClass(&#x27;selected&#x27;)) {
      var resp = single_slider.slider(&#x27;value&#x27;);
      if(resp &gt; 0 &amp;&amp; resp &gt; double_slider.slider(&#x27;values&#x27;, 0)) {
        selectAudioComponentCutterHandle(component, resp - 1);
      }
    } else if(double_slider.find(&#x27;.ui-slider-handle&#x27;).first().hasClass(&#x27;selected&#x27;)) {
      var resp = double_slider.slider(&#x27;values&#x27;, 0);
      if(resp &gt; 0) {
        double_slider.slider(&#x27;values&#x27;, 0, resp - 1);
        cutAudioComponentLeftSide(identifier, resp - 1);
      }
    } else {
      var resp = double_slider.slider(&#x27;values&#x27;, 1);
      if(resp &gt; double_slider.slider(&#x27;values&#x27;, 0) + 1) {
        if(single_slider.slider(&#x27;value&#x27;) == resp) {
          selectAudioComponentCutterHandle(component, resp - 1);
        }
        double_slider.slider(&#x27;values&#x27;, 1, resp - 1);
        cutAudioComponentRightSide(identifier, resp - 1);
      }
    }
  });
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._audio_editor_component ._precision_arrow_right&#x27;, function() {
    var component = $(this).parents(&#x27;._audio_editor_component&#x27;);
    var identifier = getAudioComponentIdentifier(component);
    var duration = component.data(&#x27;max-to&#x27;);
    var single_slider = component.find(&#x27;._media_player_slider&#x27;);
    var double_slider = component.find(&#x27;._double_slider&#x27;);
    if(single_slider.find(&#x27;.ui-slider-handle&#x27;).hasClass(&#x27;selected&#x27;)) {
      var resp = single_slider.slider(&#x27;value&#x27;);
      if(resp &lt; duration &amp;&amp; resp &lt; double_slider.slider(&#x27;values&#x27;, 1)) {
        selectAudioComponentCutterHandle(component, resp + 1);
      }
    } else if(double_slider.find(&#x27;.ui-slider-handle&#x27;).first().hasClass(&#x27;selected&#x27;)) {
      var resp = double_slider.slider(&#x27;values&#x27;, 0);
      if(resp &lt; double_slider.slider(&#x27;values&#x27;, 1) - 1) {
        if(single_slider.slider(&#x27;value&#x27;) == resp) {
          selectAudioComponentCutterHandle(component, resp + 1);
        }
        double_slider.slider(&#x27;values&#x27;, 0, resp + 1);
        cutAudioComponentLeftSide(identifier, resp + 1);
      }
    } else {
      var resp = double_slider.slider(&#x27;values&#x27;, 1);
      if(resp &lt; duration) {
        double_slider.slider(&#x27;values&#x27;, 1, resp + 1);
        cutAudioComponentRightSide(identifier, resp + 1);
      }
    }
  });
}

&#x2F;**
bla bla bla
@method audioEditorDocumentReadyGeneral
@for AudioEditorDocumentReady
**&#x2F;
function audioEditorDocumentReadyGeneral() {
  $(&#x27;body&#x27;).on(&#x27;mouseover&#x27;, &#x27;._audio_editor_component ._box_ghost&#x27;, function() {
    $(this).parent().find(&#x27;._sort_handle&#x27;).addClass(&#x27;current&#x27;);
  });
  $(&#x27;body&#x27;).on(&#x27;mouseout&#x27;, &#x27;._audio_editor_component ._box_ghost&#x27;, function(e) {
    if($(this).is(&#x27;:visible&#x27;) &amp;&amp; !$(e.relatedTarget).hasClass(&#x27;_remove&#x27;)) {
      $(this).parent().find(&#x27;._sort_handle&#x27;).removeClass(&#x27;current&#x27;);
    }
  });
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._audio_editor_component ._sort_handle&#x27;, function() {
    selectAudioEditorComponent($(this).parent().parent());
  });
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._audio_editor_component ._box_ghost&#x27;, function() {
    selectAudioEditorComponent($(this).parent());
  });
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._audio_editor_component ._remove&#x27;, function() {
    removeAudioEditorComponent($(this).parent());
  });
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#add_new_audio_component_in_audio_editor&#x27;, function() {
    if(!$(&#x27;#add_new_audio_component_in_audio_editor&#x27;).hasClass(&#x27;disabled&#x27;)) {
      var selected_component = $(&#x27;._audio_editor_component._selected&#x27;);
      if(selected_component.length &gt; 0) {
        selected_component.find(&#x27;._media_player_pause_in_audio_editor_preview&#x27;).click();
      }
      if($(&#x27;#audio_editor_gallery_container&#x27;).data(&#x27;loaded&#x27;)) {
        showGalleryInAudioEditor();
      } else {
        $.ajax({
          type: &#x27;get&#x27;,
          url: &#x27;&#x2F;audios&#x2F;galleries&#x2F;audio&#x27;
        });
      }
    }
  });
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._add_audio_component_to_audio_editor&#x27;, function() {
    stopMedia(&#x27;._audio_expanded_in_gallery audio&#x27;);
    $(&#x27;._audio_expanded_in_gallery ._expanded&#x27;).hide();
    $(&#x27;._audio_expanded_in_gallery&#x27;).removeClass(&#x27;_audio_expanded_in_gallery&#x27;);
    var audio_id = $(this).data(&#x27;audio-id&#x27;);
    closeGalleryInAudioEditor();
    stopMedia(&#x27;#gallery_audio_&#x27; + audio_id + &#x27; audio&#x27;);
    $(&#x27;#gallery_audio_&#x27; + audio_id + &#x27; ._expanded&#x27;).hide();
    addComponentInAudioEditor(audio_id, $(this).data(&#x27;ogg&#x27;), $(this).data(&#x27;mp3&#x27;), $(this).data(&#x27;duration&#x27;), $(this).data(&#x27;title&#x27;));
  });
  resizeLastComponentInAudioEditor();
  $(&#x27;#audio_editor_timeline&#x27;).jScrollPane({
    autoReinitialise: true
  });
  $(&#x27;#audio_editor_timeline .jspPane&#x27;).sortable({
    scroll: true,
    handle: &#x27;._sort_handle&#x27;,
    axis: &#x27;y&#x27;,
    cursor: &#x27;move&#x27;,
    start: function(event, ui) {
      selectAudioEditorComponent($(ui.item));
    },
    stop: function(event, ui) {
      var my_item = $(ui.item);
      resizeLastComponentInAudioEditor();
      var boolean1 = (my_item.next().length == 0);
      var boolean2 = (my_item.data(&#x27;position&#x27;) != $(&#x27;._audio_editor_component&#x27;).length);
      var boolean3 = (my_item.next().data(&#x27;position&#x27;) != (my_item.data(&#x27;position&#x27;) + 1));
      if(boolean1 &amp;&amp; boolean2 || !boolean1 &amp;&amp; boolean3) {
        reloadAudioEditorComponentPositions();
        $(&#x27;._audio_editor_component ._title&#x27;).effect(&#x27;highlight&#x27;, {color: &#x27;#41A62A&#x27;}, 1000);
      }
    }
  });
  if($(&#x27;html&#x27;).hasClass(&#x27;msie&#x27;)) {
    $(&#x27;._audio_editor_component ._double_slider .ui-slider-range&#x27;).css(&#x27;opacity&#x27;, 0.4);
  }
}

&#x2F;**
bla bla bla
@method audioEditorDocumentReadyPreview
@for AudioEditorDocumentReady
**&#x2F;
function audioEditorDocumentReadyPreview() {
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#start_audio_editor_preview&#x27;, function() {
    if(!$(this).hasClass(&#x27;disabled&#x27;)) {
      enterAudioEditorPreviewMode();
    }
  });
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#rewind_audio_editor_preview&#x27;, function() {
    if(!$(this).hasClass(&#x27;disabled&#x27;)) {
      var selected_component = $(&#x27;._audio_editor_component&#x27;).first();
      selectAudioEditorComponent(selected_component);
      disableCommitAndPreviewInAudioEditor();
      scrollToFirstSelectedAudioEditorComponent(function() {
        enableCommitAndPreviewInAudioEditor();
        var from = selected_component.data(&#x27;from&#x27;);
        selected_component.find(&#x27;._media_player_slider&#x27;).slider(&#x27;value&#x27;, from);
        selected_component.find(&#x27;._current_time&#x27;).html(secondsToDateString(from));
        setCurrentTimeToMedia(selected_component.find(&#x27;audio&#x27;), selected_component.find(&#x27;._media_player_slider&#x27;).slider(&#x27;value&#x27;));
      });
    }
  });
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#stop_audio_editor_preview&#x27;, function() {
    leaveAudioEditorPreviewMode();
  });
}





&#x2F;**
bla bla bla
@method calculateNewPositionGalleriesInAudioEditor
@for AudioEditorGalleries
**&#x2F;
function calculateNewPositionGalleriesInAudioEditor() {
  $(&#x27;#audio_editor_gallery_container&#x27;).css(&#x27;left&#x27;, (($(window).width() - 940) &#x2F; 2) + &#x27;px&#x27;);
}

&#x2F;**
bla bla bla
@method closeGalleryInAudioEditor
@for AudioEditorGalleries
**&#x2F;
function closeGalleryInAudioEditor() {
  $(&#x27;._audio_editor_bottom_bar&#x27;).show();
  $(&#x27;#audio_editor_gallery_container&#x27;).hide(&#x27;fade&#x27;, {}, 250, function() {
    setBackAllZIndexesInAudioEditor();
  });
}

&#x2F;**
bla bla bla
@method showGalleryInAudioEditor
@for AudioEditorGalleries
**&#x2F;
function showGalleryInAudioEditor() {
  $(&#x27;._audio_editor_bottom_bar&#x27;).hide();
  $(&#x27;#audio_editor_gallery_container&#x27;).show();
  setToZeroAllZIndexesInAudioEditor();
  calculateNewPositionGalleriesInAudioEditor();
}





&#x2F;**
bla bla bla
@method getAudioComponentIdentifier
@for AudioEditorGeneral
**&#x2F;
function getAudioComponentIdentifier(component) {
  var id = component.attr(&#x27;id&#x27;).split(&#x27;_&#x27;);
  return id[id.length - 1];
}





&#x2F;**
bla bla bla
@method disableCommitAndPreviewInAudioEditor
@for AudioEditorGraphics
**&#x2F;
function disableCommitAndPreviewInAudioEditor() {
  $(&#x27;#empty_audio_editor&#x27;).show();
  $(&#x27;#commit_audio_editor&#x27;).hide();
  $(&#x27;#start_audio_editor_preview&#x27;).addClass(&#x27;disabled&#x27;);
  $(&#x27;#rewind_audio_editor_preview&#x27;).addClass(&#x27;disabled&#x27;);
}

&#x2F;**
bla bla bla
@method enableCommitAndPreviewInAudioEditor
@for AudioEditorGraphics
**&#x2F;
function enableCommitAndPreviewInAudioEditor() {
  $(&#x27;#empty_audio_editor&#x27;).hide();
  $(&#x27;#commit_audio_editor&#x27;).show();
  $(&#x27;#start_audio_editor_preview&#x27;).removeClass(&#x27;disabled&#x27;);
  $(&#x27;#rewind_audio_editor_preview&#x27;).removeClass(&#x27;disabled&#x27;);
}

&#x2F;**
bla bla bla
@method hideCommitAudioEditorForm
@for AudioEditorGraphics
**&#x2F;
function hideCommitAudioEditorForm(scope) {
  $(&#x27;._audio_editor_bottom_bar&#x27;).show();
  $(&#x27;#audio_editor #form_info_&#x27; + scope + &#x27;_media_element_in_editor&#x27;).hide();
  setBackAllZIndexesInAudioEditor();
}

&#x2F;**
bla bla bla
@method setBackAllZIndexesInAudioEditor
@for AudioEditorGraphics
**&#x2F;
function setBackAllZIndexesInAudioEditor() {
  $(&#x27;._audio_editor_component ._remove&#x27;).css(&#x27;z-index&#x27;, 101);
  $(&#x27;._audio_editor_component ._box_ghost&#x27;).css(&#x27;z-index&#x27;, 100);
  $(&#x27;._audio_editor_component ._media_player_slider_disabler&#x27;).css(&#x27;z-index&#x27;, 99);
  $(&#x27;._audio_editor_component ._double_slider&#x27;).css(&#x27;z-index&#x27;, 98);
  $(&#x27;._audio_editor_component ._under_double_slider&#x27;).css(&#x27;z-index&#x27;, 97);
  $(&#x27;._audio_editor_component ._media_player_slider&#x27;).css(&#x27;z-index&#x27;, 96);
}

&#x2F;**
bla bla bla
@method setToZeroAllZIndexesInAudioEditor
@for AudioEditorGraphics
**&#x2F;
function setToZeroAllZIndexesInAudioEditor() {
  $(&#x27;._audio_editor_component ._remove&#x27;).css(&#x27;z-index&#x27;, 0);
  $(&#x27;._audio_editor_component ._box_ghost&#x27;).css(&#x27;z-index&#x27;, 0);
  $(&#x27;._audio_editor_component ._media_player_slider_disabler&#x27;).css(&#x27;z-index&#x27;, 0);
  $(&#x27;._audio_editor_component ._double_slider&#x27;).css(&#x27;z-index&#x27;, 0);
  $(&#x27;._audio_editor_component ._under_double_slider&#x27;).css(&#x27;z-index&#x27;, 0);
  $(&#x27;._audio_editor_component ._media_player_slider&#x27;).css(&#x27;z-index&#x27;, 0);
}

&#x2F;**
bla bla bla
@method showCommitAudioEditorForm
@for AudioEditorGraphics
**&#x2F;
function showCommitAudioEditorForm(scope) {
  $(&#x27;._audio_editor_bottom_bar&#x27;).hide();
  $(&#x27;#audio_editor #form_info_&#x27; + scope + &#x27;_media_element_in_editor&#x27;).show();
  setToZeroAllZIndexesInAudioEditor();
}





&#x2F;**
bla bla bla
@method deselectAllAudioEditorComponentsInPreviewMode
@for AudioEditorPreview
**&#x2F;
function deselectAllAudioEditorComponentsInPreviewMode() {
  $(&#x27;._audio_editor_component ._audio_component_icon&#x27;).css(&#x27;visibility&#x27;, &#x27;hidden&#x27;);
  $(&#x27;._audio_editor_component&#x27;).each(function() {
    deselectAllAudioEditorCursors(getAudioComponentIdentifier($(this)));
  });
  $(&#x27;._audio_editor_component ._media_player_slider .ui-slider-handle&#x27;).hide();
  $(&#x27;._audio_editor_component&#x27;).css(&#x27;opacity&#x27;, 0.2);
  $(&#x27;._audio_editor_component ._content&#x27;).removeClass(&#x27;current&#x27;);
  $(&#x27;._audio_editor_component&#x27;).removeClass(&#x27;_selected&#x27;);
}

&#x2F;**
bla bla bla
@method enterAudioEditorPreviewMode
@for AudioEditorPreview
**&#x2F;
function enterAudioEditorPreviewMode() {
  $(&#x27;#info_container&#x27;).data(&#x27;in-preview&#x27;, true);
  $(&#x27;#audio_editor_box_ghost&#x27;).show();
  $(&#x27;#commit_audio_editor&#x27;).hide();
  $(&#x27;#add_new_audio_component_in_audio_editor&#x27;).addClass(&#x27;disabled&#x27;);
  $(&#x27;#start_audio_editor_preview&#x27;).addClass(&#x27;disabled&#x27;);
  $(&#x27;#rewind_audio_editor_preview&#x27;).addClass(&#x27;disabled&#x27;);
  scrollToFirstSelectedAudioEditorComponent(function() {
    $(&#x27;#audio_editor_timeline .jspVerticalBar&#x27;).css(&#x27;visibility&#x27;, &#x27;hidden&#x27;);
    var current_global_preview_time = getAudioEditorGlobalPreviewTime();
    $(&#x27;#info_container&#x27;).data(&#x27;current-preview-time&#x27;, current_global_preview_time);
    var selected_component = $(&#x27;._audio_editor_component._selected&#x27;);
    if(selected_component.length == 0) {
      selected_component = $(&#x27;._audio_editor_component&#x27;).first();
    }
    selected_component = $(&#x27;#&#x27; + selected_component.attr(&#x27;id&#x27;));
    deselectAllAudioEditorComponents();
    switchAudioComponentsToPreviewMode();
    $(&#x27;#visual_audio_editor_current_time&#x27;).show();
    $(&#x27;#visual_audio_editor_current_time&#x27;).html(secondsToDateString(current_global_preview_time));
    $(&#x27;#start_audio_editor_preview&#x27;).hide();
    $(&#x27;#start_audio_editor_preview&#x27;).removeClass(&#x27;disabled&#x27;);
    $(&#x27;#stop_audio_editor_preview&#x27;).show();
    $(&#x27;#visual_audio_editor_total_length&#x27;).css(&#x27;color&#x27;, &#x27;#787575&#x27;);
    $(&#x27;#visual_audio_editor_current_time&#x27;).css(&#x27;color&#x27;, &#x27;white&#x27;);
    if(current_global_preview_time == 0) {
      var first_component_from = selected_component.data(&#x27;from&#x27;);
      selected_component.find(&#x27;._media_player_slider&#x27;).slider(&#x27;value&#x27;, first_component_from);
      selected_component.find(&#x27;._current_time&#x27;).html(secondsToDateString(first_component_from));
    }
    loadAudioComponentIfNotLoadedYet(selected_component);
    setCurrentTimeToMedia(selected_component.find(&#x27;audio&#x27;), selected_component.find(&#x27;._media_player_slider&#x27;).slider(&#x27;value&#x27;));
    startAudioEditorPreview(selected_component);
  });
}

&#x2F;**
bla bla bla
@method getAudioEditorGlobalPreviewTime
@for AudioEditorPreview
**&#x2F;
function getAudioEditorGlobalPreviewTime() {
  var selected_component = $(&#x27;._audio_editor_component._selected&#x27;);
  if(selected_component.length == 0) {
    return 0;
  } else {
    var flag = true;
    var tot = 0;
    $(&#x27;._audio_editor_component&#x27;).each(function() {
      if($(this).hasClass(&#x27;_selected&#x27;)) {
        flag = false;
        tot += ($(this).find(&#x27;._media_player_slider&#x27;).slider(&#x27;value&#x27;) - $(this).data(&#x27;from&#x27;));
      } else if(flag) {
        tot += $(this).data(&#x27;duration&#x27;);
      }
    });
    return tot;
  }
}

&#x2F;**
bla bla bla
@method increaseAudioEditorPreviewTimer
@for AudioEditorPreview
**&#x2F;
function increaseAudioEditorPreviewTimer() {
  var data_container = $(&#x27;#info_container&#x27;);
  var global_time = data_container.data(&#x27;current-preview-time&#x27;);
  $(&#x27;#visual_audio_editor_current_time&#x27;).html(secondsToDateString(global_time + 1));
  data_container.data(&#x27;current-preview-time&#x27;, global_time + 1);
}

&#x2F;**
bla bla bla
@method leaveAudioEditorPreviewMode
@for AudioEditorPreview
**&#x2F;
function leaveAudioEditorPreviewMode(forced_component) {
  var selected_component = $(&#x27;#&#x27; + $(&#x27;._audio_editor_component._selected&#x27;).attr(&#x27;id&#x27;));
  selected_component.find(&#x27;audio&#x27;)[0].pause();
  deselectAllAudioEditorComponentsInPreviewMode();
  switchBackAudioComponentsFromPreviewMode();
  $(&#x27;#info_container&#x27;).data(&#x27;current-preview-time&#x27;, 0);
  $(&#x27;#visual_audio_editor_current_time&#x27;).html(secondsToDateString(0));
  $(&#x27;#visual_audio_editor_current_time&#x27;).css(&#x27;color&#x27;, &#x27;#787575&#x27;);
  $(&#x27;#visual_audio_editor_total_length&#x27;).css(&#x27;color&#x27;, &#x27;white&#x27;);
  $(&#x27;#visual_audio_editor_current_time&#x27;).hide();
  $(&#x27;#commit_audio_editor&#x27;).show();
  $(&#x27;#add_new_audio_component_in_audio_editor&#x27;).removeClass(&#x27;disabled&#x27;);
  $(&#x27;#start_audio_editor_preview&#x27;).show();
  $(&#x27;#stop_audio_editor_preview&#x27;).hide();
  $(&#x27;#rewind_audio_editor_preview&#x27;).removeClass(&#x27;disabled&#x27;);
  $(&#x27;#audio_editor_timeline .jspVerticalBar&#x27;).css(&#x27;visibility&#x27;, &#x27;visible&#x27;);
  if(forced_component != undefined) {
    scrollToFirstSelectedAudioEditorComponent(function() {
      selectAudioEditorComponent($(&#x27;#&#x27; + forced_component));
    });
  } else {
    selectAudioEditorComponent(selected_component);
  }
  $(&#x27;#audio_editor_box_ghost&#x27;).hide();
  $(&#x27;#info_container&#x27;).data(&#x27;in-preview&#x27;, false);
}

&#x2F;**
bla bla bla
@method selectAudioEditorComponentInPreviewMode
@for AudioEditorPreview
**&#x2F;
function selectAudioEditorComponentInPreviewMode(component) {
  component.addClass(&#x27;_selected&#x27;);
  component.find(&#x27;._content&#x27;).addClass(&#x27;current&#x27;);
  component.css(&#x27;opacity&#x27;, 1);
  component.find(&#x27;._audio_component_icon&#x27;).css(&#x27;visibility&#x27;, &#x27;visible&#x27;);
  component.find(&#x27;._media_player_slider .ui-slider-handle&#x27;).show();
  selectAudioEditorCursor(getAudioComponentIdentifier(component));
}

&#x2F;**
bla bla bla
@method startAudioEditorPreview
@for AudioEditorPreview
**&#x2F;
function startAudioEditorPreview(component) {
  selectAudioEditorComponentInPreviewMode(component);
  followPreviewComponentsWithVerticalScrollInAudioEditor();
  var audio = component.find(&#x27;audio&#x27;);
  if(audio[0].error) {
    showLoadingMediaErrorPopup(audio[0].error.code, &#x27;audio&#x27;);
    $(&#x27;#stop_audio_editor_preview&#x27;).click();
  } else {
    if(audio.readyState != 0) {
      audio[0].play();
    } else {
      audio.on(&#x27;loadedmetadata&#x27;, function() {
        audio[0].play();
      });
    }
  }
}

&#x2F;**
bla bla bla
@method switchAudioComponentsToPreviewMode
@for AudioEditorPreview
**&#x2F;
function switchAudioComponentsToPreviewMode() {
  $(&#x27;._audio_editor_component ._player_content&#x27;).css(&#x27;opacity&#x27;, 1);
  $(&#x27;.msie ._audio_editor_component ._double_slider .ui-slider-range&#x27;).css(&#x27;opacity&#x27;, 1);
  $(&#x27;._audio_editor_component&#x27;).css(&#x27;opacity&#x27;, 0.2);
  $(&#x27;._audio_editor_component ._remove&#x27;).hide();
  $(&#x27;._audio_editor_component ._media_player_slider .ui-slider-handle&#x27;).hide();
  $(&#x27;._audio_editor_component ._audio_component_icon&#x27;).css(&#x27;visibility&#x27;, &#x27;hidden&#x27;);
}

&#x2F;**
bla bla bla
@method switchBackAudioComponentsFromPreviewMode
@for AudioEditorPreview
**&#x2F;
function switchBackAudioComponentsFromPreviewMode() {
  $(&#x27;._audio_editor_component&#x27;).css(&#x27;opacity&#x27;, 1);
  $(&#x27;._audio_editor_component ._player_content&#x27;).css(&#x27;opacity&#x27;, 0.2);
  $(&#x27;.msie ._audio_editor_component ._double_slider .ui-slider-range&#x27;).css(&#x27;opacity&#x27;, 0.4);
  $(&#x27;._audio_editor_component ._remove&#x27;).show();
  $(&#x27;._audio_editor_component ._media_player_slider .ui-slider-handle&#x27;).show();
  $(&#x27;._audio_editor_component ._audio_component_icon&#x27;).css(&#x27;visibility&#x27;, &#x27;visible&#x27;);
}





&#x2F;**
bla bla bla
@method followPreviewComponentsWithVerticalScrollInAudioEditor
@for AudioEditorScrollpain
**&#x2F;
function followPreviewComponentsWithVerticalScrollInAudioEditor() {
  if($(&#x27;._audio_editor_component._selected&#x27;).data(&#x27;position&#x27;) - parseInt($(&#x27;#audio_editor_timeline&#x27;).data(&#x27;jsp&#x27;).getContentPositionY() &#x2F; 113) == 4) {
    scrollToFirstSelectedAudioEditorComponent();
  }
}

&#x2F;**
bla bla bla
@method scrollToFirstSelectedAudioEditorComponent
@for AudioEditorScrollpain
**&#x2F;
function scrollToFirstSelectedAudioEditorComponent(callback) {
  var selected_component = $(&#x27;._audio_editor_component._selected&#x27;);
  var scroll_pain = $(&#x27;#audio_editor_timeline&#x27;);
  if(scroll_pain.find(&#x27;.jspVerticalBar&#x27;).length == 0) {
    if(callback != undefined) {
      callback();
    }
    return;
  }
  if(selected_component.length == 0) {
    if($(&#x27;#info_container&#x27;).data(&#x27;in-preview&#x27;)) {
      if(scroll_pain.data(&#x27;jsp&#x27;).getPercentScrolledY() != 0) {
        if(callback != undefined) {
          scroll_pain.jScrollPane().bind(&#x27;panescrollstop&#x27;, function() {
            callback();
            scroll_pain.jScrollPane().unbind(&#x27;panescrollstop&#x27;);
          });
        }
        scroll_pain.data(&#x27;jsp&#x27;).scrollToPercentY(0, true);
      } else if(callback != undefined) {
        callback();
      }
    } else {
      if(scroll_pain.data(&#x27;jsp&#x27;).getPercentScrolledY() != 1) {
        if(callback != undefined) {
          scroll_pain.jScrollPane().bind(&#x27;panescrollstop&#x27;, function() {
            callback();
            scroll_pain.jScrollPane().unbind(&#x27;panescrollstop&#x27;);
          });
        }
        scroll_pain.data(&#x27;jsp&#x27;).scrollToPercentY(100, true);
      } else if(callback != undefined) {
        callback();
      }
    }
  } else {
    var scroll_target = (selected_component.data(&#x27;position&#x27;) - 1) * 113;
    if(scroll_pain.data(&#x27;jsp&#x27;).getContentPositionY() != scroll_target) {
      if(callback != undefined) {
        scroll_pain.jScrollPane().bind(&#x27;panescrollstop&#x27;, function() {
          callback();
          scroll_pain.jScrollPane().unbind(&#x27;panescrollstop&#x27;);
        });
      }
      scroll_pain.data(&#x27;jsp&#x27;).scrollToY(scroll_target, true);
    } else if(callback != undefined) {
      callback();
    }
  }
}

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
