<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>app&#x2F;assets&#x2F;javascripts&#x2F;video_editor.js - DESY</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.8.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.8.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="DESY"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 1.0.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/addDeleteItemToCurrentUrl.html">addDeleteItemToCurrentUrl</a></li>
            
                <li><a href="..&#x2F;classes/addEmailToVirtualClassroomSendLessonLinkSelector.html">addEmailToVirtualClassroomSendLessonLinkSelector</a></li>
            
                <li><a href="..&#x2F;classes/addLesson.html">addLesson</a></li>
            
                <li><a href="..&#x2F;classes/addLessonToVirtualClassroom.html">addLessonToVirtualClassroom</a></li>
            
                <li><a href="..&#x2F;classes/addMediaElement.html">addMediaElement</a></li>
            
                <li><a href="..&#x2F;classes/addTagWithoutSuggestion.html">addTagWithoutSuggestion</a></li>
            
                <li><a href="..&#x2F;classes/addToTagsValue.html">addToTagsValue</a></li>
            
                <li><a href="..&#x2F;classes/AdminAutocomplete.html">AdminAutocomplete</a></li>
            
                <li><a href="..&#x2F;classes/AdminCollapsed.html">AdminCollapsed</a></li>
            
                <li><a href="..&#x2F;classes/AdminDocumentReady.html">AdminDocumentReady</a></li>
            
                <li><a href="..&#x2F;classes/bindLoader.html">bindLoader</a></li>
            
                <li><a href="..&#x2F;classes/BrowsersDocumentReady.html">BrowsersDocumentReady</a></li>
            
                <li><a href="..&#x2F;classes/centerThis.html">centerThis</a></li>
            
                <li><a href="..&#x2F;classes/centerThisInContainer.html">centerThisInContainer</a></li>
            
                <li><a href="..&#x2F;classes/changePageDashboardLessons.html">changePageDashboardLessons</a></li>
            
                <li><a href="..&#x2F;classes/changePageDashboardMediaElements.html">changePageDashboardMediaElements</a></li>
            
                <li><a href="..&#x2F;classes/checkNoTagDuplicates.html">checkNoTagDuplicates</a></li>
            
                <li><a href="..&#x2F;classes/closeGenericVideoComponentCutter.html">closeGenericVideoComponentCutter</a></li>
            
                <li><a href="..&#x2F;classes/closePlaylistMenuInLessonViewer.html">closePlaylistMenuInLessonViewer</a></li>
            
                <li><a href="..&#x2F;classes/closePopUp.html">closePopUp</a></li>
            
                <li><a href="..&#x2F;classes/copyLesson.html">copyLesson</a></li>
            
                <li><a href="..&#x2F;classes/createTagSpan.html">createTagSpan</a></li>
            
                <li><a href="..&#x2F;classes/customOverlayClose.html">customOverlayClose</a></li>
            
                <li><a href="..&#x2F;classes/destroyLesson.html">destroyLesson</a></li>
            
                <li><a href="..&#x2F;classes/destroyMediaElement.html">destroyMediaElement</a></li>
            
                <li><a href="..&#x2F;classes/disableTagsInputTooHigh.html">disableTagsInputTooHigh</a></li>
            
                <li><a href="..&#x2F;classes/dislikeLesson.html">dislikeLesson</a></li>
            
                <li><a href="..&#x2F;classes/enlightTextarea.html">enlightTextarea</a></li>
            
                <li><a href="..&#x2F;classes/getDragPosition.html">getDragPosition</a></li>
            
                <li><a href="..&#x2F;classes/getHtmlPagination.html">getHtmlPagination</a></li>
            
                <li><a href="..&#x2F;classes/getLessonViewerCurrentSlide.html">getLessonViewerCurrentSlide</a></li>
            
                <li><a href="..&#x2F;classes/getMaximumZIndex.html">getMaximumZIndex</a></li>
            
                <li><a href="..&#x2F;classes/getRelativePositionInImageEditor.html">getRelativePositionInImageEditor</a></li>
            
                <li><a href="..&#x2F;classes/getUnivoqueClassForTag.html">getUnivoqueClassForTag</a></li>
            
                <li><a href="..&#x2F;classes/goToNextSlideInLessonViewer.html">goToNextSlideInLessonViewer</a></li>
            
                <li><a href="..&#x2F;classes/goToPrevSlideInLessonViewer.html">goToPrevSlideInLessonViewer</a></li>
            
                <li><a href="..&#x2F;classes/hideArrowsInLessonViewer.html">hideArrowsInLessonViewer</a></li>
            
                <li><a href="..&#x2F;classes/hideEverythingOutCurrentSlide.html">hideEverythingOutCurrentSlide</a></li>
            
                <li><a href="..&#x2F;classes/hideExpandedNotification.html">hideExpandedNotification</a></li>
            
                <li><a href="..&#x2F;classes/hideHelpButton.html">hideHelpButton</a></li>
            
                <li><a href="..&#x2F;classes/hideHelpTooltip.html">hideHelpTooltip</a></li>
            
                <li><a href="..&#x2F;classes/hideLoader.html">hideLoader</a></li>
            
                <li><a href="..&#x2F;classes/hideNewSlideChoice.html">hideNewSlideChoice</a></li>
            
                <li><a href="..&#x2F;classes/hideNotificationsButton.html">hideNotificationsButton</a></li>
            
                <li><a href="..&#x2F;classes/hideNotificationsFumetto.html">hideNotificationsFumetto</a></li>
            
                <li><a href="..&#x2F;classes/initializeActionOfMediaTimeUpdater.html">initializeActionOfMediaTimeUpdater</a></li>
            
                <li><a href="..&#x2F;classes/initializeActionOfMediaTimeUpdaterInAudioEditor.html">initializeActionOfMediaTimeUpdaterInAudioEditor</a></li>
            
                <li><a href="..&#x2F;classes/initializeActionOfMediaTimeUpdaterInVideoEditor.html">initializeActionOfMediaTimeUpdaterInVideoEditor</a></li>
            
                <li><a href="..&#x2F;classes/initializeAudioEditorCutter.html">initializeAudioEditorCutter</a></li>
            
                <li><a href="..&#x2F;classes/initializeAudioGalleryInAudioEditor.html">initializeAudioGalleryInAudioEditor</a></li>
            
                <li><a href="..&#x2F;classes/initializeAudioGalleryInLessonEditor.html">initializeAudioGalleryInLessonEditor</a></li>
            
                <li><a href="..&#x2F;classes/initializeDraggableVirtualClassroomLesson.html">initializeDraggableVirtualClassroomLesson</a></li>
            
                <li><a href="..&#x2F;classes/initializeHelp.html">initializeHelp</a></li>
            
                <li><a href="..&#x2F;classes/initializeImageGalleryInImageEditor.html">initializeImageGalleryInImageEditor</a></li>
            
                <li><a href="..&#x2F;classes/initializeImageGalleryInLessonEditor.html">initializeImageGalleryInLessonEditor</a></li>
            
                <li><a href="..&#x2F;classes/initializeLessonViewer.html">initializeLessonViewer</a></li>
            
                <li><a href="..&#x2F;classes/initializeMedia.html">initializeMedia</a></li>
            
                <li><a href="..&#x2F;classes/initializeMediaTimeUpdater.html">initializeMediaTimeUpdater</a></li>
            
                <li><a href="..&#x2F;classes/initializeMediaTimeUpdaterInAudioEditor.html">initializeMediaTimeUpdaterInAudioEditor</a></li>
            
                <li><a href="..&#x2F;classes/initializeMediaTimeUpdaterInVideoEditor.html">initializeMediaTimeUpdaterInVideoEditor</a></li>
            
                <li><a href="..&#x2F;classes/initializeNotAvailableLessonsToLoadQuick.html">initializeNotAvailableLessonsToLoadQuick</a></li>
            
                <li><a href="..&#x2F;classes/initializeNotifications.html">initializeNotifications</a></li>
            
                <li><a href="..&#x2F;classes/initializePlaylist.html">initializePlaylist</a></li>
            
                <li><a href="..&#x2F;classes/initializeScrollPaneQuickLessonSelector.html">initializeScrollPaneQuickLessonSelector</a></li>
            
                <li><a href="..&#x2F;classes/initializeSortableNavs.html">initializeSortableNavs</a></li>
            
                <li><a href="..&#x2F;classes/initializeVideoEditor.html">initializeVideoEditor</a></li>
            
                <li><a href="..&#x2F;classes/initializeVideoGalleryInLessonEditor.html">initializeVideoGalleryInLessonEditor</a></li>
            
                <li><a href="..&#x2F;classes/initializeVideoInVideoEditorPreview.html">initializeVideoInVideoEditorPreview</a></li>
            
                <li><a href="..&#x2F;classes/initializeVirtualClassroom.html">initializeVirtualClassroom</a></li>
            
                <li><a href="..&#x2F;classes/initLessonEditorPositions.html">initLessonEditorPositions</a></li>
            
                <li><a href="..&#x2F;classes/initMediaElementLoader.html">initMediaElementLoader</a></li>
            
                <li><a href="..&#x2F;classes/initSearchTagsAutocomplete.html">initSearchTagsAutocomplete</a></li>
            
                <li><a href="..&#x2F;classes/initTinymce.html">initTinymce</a></li>
            
                <li><a href="..&#x2F;classes/isHorizontalMask.html">isHorizontalMask</a></li>
            
                <li><a href="..&#x2F;classes/likeLesson.html">likeLesson</a></li>
            
                <li><a href="..&#x2F;classes/loadSlideAndAdhiacentInLessonEditor.html">loadSlideAndAdhiacentInLessonEditor</a></li>
            
                <li><a href="..&#x2F;classes/loadSlideInLessonEditor.html">loadSlideInLessonEditor</a></li>
            
                <li><a href="..&#x2F;classes/LocationsDocumentReady.html">LocationsDocumentReady</a></li>
            
                <li><a href="..&#x2F;classes/makeDraggable.html">makeDraggable</a></li>
            
                <li><a href="..&#x2F;classes/offlightTextarea.html">offlightTextarea</a></li>
            
                <li><a href="..&#x2F;classes/openPlaylistMenuInLessonViewer.html">openPlaylistMenuInLessonViewer</a></li>
            
                <li><a href="..&#x2F;classes/previewLesson.html">previewLesson</a></li>
            
                <li><a href="..&#x2F;classes/publishLesson.html">publishLesson</a></li>
            
                <li><a href="..&#x2F;classes/reInitializeSlidePositionsInLessonEditor.html">reInitializeSlidePositionsInLessonEditor</a></li>
            
                <li><a href="..&#x2F;classes/reloadDashboardPages.html">reloadDashboardPages</a></li>
            
                <li><a href="..&#x2F;classes/reloadLessonsDashboardPagination.html">reloadLessonsDashboardPagination</a></li>
            
                <li><a href="..&#x2F;classes/reloadMediaElementsDashboardPagination.html">reloadMediaElementsDashboardPagination</a></li>
            
                <li><a href="..&#x2F;classes/removeCompletelyMediaElementPopup.html">removeCompletelyMediaElementPopup</a></li>
            
                <li><a href="..&#x2F;classes/removeCustomOverlayClose.html">removeCustomOverlayClose</a></li>
            
                <li><a href="..&#x2F;classes/removeFromTagsValue.html">removeFromTagsValue</a></li>
            
                <li><a href="..&#x2F;classes/removeGalleryInLessonEditor.html">removeGalleryInLessonEditor</a></li>
            
                <li><a href="..&#x2F;classes/removeLesson.html">removeLesson</a></li>
            
                <li><a href="..&#x2F;classes/removeLessonFromVirtualClassroom.html">removeLessonFromVirtualClassroom</a></li>
            
                <li><a href="..&#x2F;classes/removeMediaElement.html">removeMediaElement</a></li>
            
                <li><a href="..&#x2F;classes/removeURLParameter.html">removeURLParameter</a></li>
            
                <li><a href="..&#x2F;classes/resetImageEditorCrop.html">resetImageEditorCrop</a></li>
            
                <li><a href="..&#x2F;classes/resetImageEditorOperationsChoice.html">resetImageEditorOperationsChoice</a></li>
            
                <li><a href="..&#x2F;classes/resetImageEditorTexts.html">resetImageEditorTexts</a></li>
            
                <li><a href="..&#x2F;classes/resetMediaElementChangeInfo.html">resetMediaElementChangeInfo</a></li>
            
                <li><a href="..&#x2F;classes/resizedWidthForImageGallery.html">resizedWidthForImageGallery</a></li>
            
                <li><a href="..&#x2F;classes/resizeHeight.html">resizeHeight</a></li>
            
                <li><a href="..&#x2F;classes/resizeWidth.html">resizeWidth</a></li>
            
                <li><a href="..&#x2F;classes/saveCurrentSlide.html">saveCurrentSlide</a></li>
            
                <li><a href="..&#x2F;classes/scrollPaneUpdate.html">scrollPaneUpdate</a></li>
            
                <li><a href="..&#x2F;classes/secondsToDateString.html">secondsToDateString</a></li>
            
                <li><a href="..&#x2F;classes/selectAudioComponentCutterHandle.html">selectAudioComponentCutterHandle</a></li>
            
                <li><a href="..&#x2F;classes/selectComponentInLessonViewerPlaylistMenu.html">selectComponentInLessonViewerPlaylistMenu</a></li>
            
                <li><a href="..&#x2F;classes/selectVideoComponentCutterHandle.html">selectVideoComponentCutterHandle</a></li>
            
                <li><a href="..&#x2F;classes/setCurrentTimeToMedia.html">setCurrentTimeToMedia</a></li>
            
                <li><a href="..&#x2F;classes/showConfirmPopUp.html">showConfirmPopUp</a></li>
            
                <li><a href="..&#x2F;classes/showErrorPopUp.html">showErrorPopUp</a></li>
            
                <li><a href="..&#x2F;classes/showEverythingOutCurrentSlide.html">showEverythingOutCurrentSlide</a></li>
            
                <li><a href="..&#x2F;classes/showGalleryInLessonEditor.html">showGalleryInLessonEditor</a></li>
            
                <li><a href="..&#x2F;classes/showHelpButton.html">showHelpButton</a></li>
            
                <li><a href="..&#x2F;classes/showHelpTooltip.html">showHelpTooltip</a></li>
            
                <li><a href="..&#x2F;classes/showImageInGalleryPopUp.html">showImageInGalleryPopUp</a></li>
            
                <li><a href="..&#x2F;classes/showLessonNotificationPopUp.html">showLessonNotificationPopUp</a></li>
            
                <li><a href="..&#x2F;classes/showLoader.html">showLoader</a></li>
            
                <li><a href="..&#x2F;classes/showLoadingMediaErrorPopup.html">showLoadingMediaErrorPopup</a></li>
            
                <li><a href="..&#x2F;classes/showLoadMediaElementPopUp.html">showLoadMediaElementPopUp</a></li>
            
                <li><a href="..&#x2F;classes/showMediaElementInfoPopUp.html">showMediaElementInfoPopUp</a></li>
            
                <li><a href="..&#x2F;classes/showNewSlideChoice.html">showNewSlideChoice</a></li>
            
                <li><a href="..&#x2F;classes/showNotificationsButton.html">showNotificationsButton</a></li>
            
                <li><a href="..&#x2F;classes/showNotificationsFumetto.html">showNotificationsFumetto</a></li>
            
                <li><a href="..&#x2F;classes/showNotificationsTooltip.html">showNotificationsTooltip</a></li>
            
                <li><a href="..&#x2F;classes/showOkPopUp.html">showOkPopUp</a></li>
            
                <li><a href="..&#x2F;classes/showRestoreCacheMediaElementEditorPopUp.html">showRestoreCacheMediaElementEditorPopUp</a></li>
            
                <li><a href="..&#x2F;classes/showSendLessonLinkPopUp.html">showSendLessonLinkPopUp</a></li>
            
                <li><a href="..&#x2F;classes/showTimedPopUp.html">showTimedPopUp</a></li>
            
                <li><a href="..&#x2F;classes/showVideoInGalleryPopUp.html">showVideoInGalleryPopUp</a></li>
            
                <li><a href="..&#x2F;classes/showVirtualClassroomQuickSelectPopUp.html">showVirtualClassroomQuickSelectPopUp</a></li>
            
                <li><a href="..&#x2F;classes/slideError.html">slideError</a></li>
            
                <li><a href="..&#x2F;classes/slideTo.html">slideTo</a></li>
            
                <li><a href="..&#x2F;classes/slideToInLessonViewer.html">slideToInLessonViewer</a></li>
            
                <li><a href="..&#x2F;classes/slideToInLessonViewerWithLessonSwitch.html">slideToInLessonViewerWithLessonSwitch</a></li>
            
                <li><a href="..&#x2F;classes/stopAllMedia.html">stopAllMedia</a></li>
            
                <li><a href="..&#x2F;classes/stopMedia.html">stopMedia</a></li>
            
                <li><a href="..&#x2F;classes/stopMediaInCurrentSlide.html">stopMediaInCurrentSlide</a></li>
            
                <li><a href="..&#x2F;classes/stopMediaInLessonViewer.html">stopMediaInLessonViewer</a></li>
            
                <li><a href="..&#x2F;classes/stopVideoInVideoEditorPreview.html">stopVideoInVideoEditorPreview</a></li>
            
                <li><a href="..&#x2F;classes/submitCurrentSlideForm.html">submitCurrentSlideForm</a></li>
            
                <li><a href="..&#x2F;classes/switchLessonInPlaylistMenuLessonViewer.html">switchLessonInPlaylistMenuLessonViewer</a></li>
            
                <li><a href="..&#x2F;classes/switchToSuggestedLessons.html">switchToSuggestedLessons</a></li>
            
                <li><a href="..&#x2F;classes/switchToSuggestedMediaElements.html">switchToSuggestedMediaElements</a></li>
            
                <li><a href="..&#x2F;classes/textAreaImageEditorContent.html">textAreaImageEditorContent</a></li>
            
                <li><a href="..&#x2F;classes/tinyMceCallbacks.html">tinyMceCallbacks</a></li>
            
                <li><a href="..&#x2F;classes/tinyMceKeyDownCallbacks.html">tinyMceKeyDownCallbacks</a></li>
            
                <li><a href="..&#x2F;classes/unbindLoader.html">unbindLoader</a></li>
            
                <li><a href="..&#x2F;classes/unpublishLesson.html">unpublishLesson</a></li>
            
                <li><a href="..&#x2F;classes/updateURLParameter.html">updateURLParameter</a></li>
            
                <li><a href="..&#x2F;classes/uploadDone.html">uploadDone</a></li>
            
                <li><a href="..&#x2F;classes/uploadMediaElementLoadeDoneRedirect.html">uploadMediaElementLoadeDoneRedirect</a></li>
            
                <li><a href="..&#x2F;classes/uploadMediaElementLoaderError.html">uploadMediaElementLoaderError</a></li>
            
                <li><a href="..&#x2F;classes/validSeek.html">validSeek</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/administration.html">administration</a></li>
            
                <li><a href="..&#x2F;modules/ajax-loader.html">ajax-loader</a></li>
            
                <li><a href="..&#x2F;modules/Buttons.html">Buttons</a></li>
            
                <li><a href="..&#x2F;modules/Dashboard.html">Dashboard</a></li>
            
                <li><a href="..&#x2F;modules/Dialogs.html">Dialogs</a></li>
            
                <li><a href="..&#x2F;modules/Galleries.html">Galleries</a></li>
            
                <li><a href="..&#x2F;modules/General.html">General</a></li>
            
                <li><a href="..&#x2F;modules/ImageEditor.html">ImageEditor</a></li>
            
                <li><a href="..&#x2F;modules/LessonEditor.html">LessonEditor</a></li>
            
                <li><a href="..&#x2F;modules/LessonViewer.html">LessonViewer</a></li>
            
                <li><a href="..&#x2F;modules/MediaElementLoader.html">MediaElementLoader</a></li>
            
                <li><a href="..&#x2F;modules/Notifications.html">Notifications</a></li>
            
                <li><a href="..&#x2F;modules/Players.html">Players</a></li>
            
                <li><a href="..&#x2F;modules/Tags.html">Tags</a></li>
            
                <li><a href="..&#x2F;modules/Times.html">Times</a></li>
            
                <li><a href="..&#x2F;modules/VideoEditor.html">VideoEditor</a></li>
            
                <li><a href="..&#x2F;modules/VirtualClassroom.html">VirtualClassroom</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: app&#x2F;assets&#x2F;javascripts&#x2F;video_editor.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
* Provides video editor ajax actions.
* 
* @module VideoEditor
*&#x2F;

&#x2F;**
* Video Editor initialization
* 
* @method initializeVideoEditor
* @for initializeVideoEditor
* @param name {String} An 
*   Attribute name or 
*   object property path.
* @return {String} Unique clientId.
*&#x2F;
function initializeVideoEditor() {
  $(&#x27;#media_elements_list_in_video_editor&#x27;).jScrollPane({
    autoReinitialise: true
  });
  calculateNewPositionGalleriesInVideoEditor();
  $(&#x27;#video_editor_timeline&#x27;).sortable({
    scroll: true,
    handle: &#x27;._video_editor_component_hover&#x27;,
    axis: &#x27;x&#x27;,
    cursor: &#x27;move&#x27;,
    cancel: &#x27;._video_editor_component_menu&#x27;,
    containment: &#x27;parent&#x27;,
    start: function(event, ui) {
      my_item = $(ui.item);
      if(!$(&#x27;#&#x27; + my_item.attr(&#x27;id&#x27;) + &#x27;_preview&#x27;).is(&#x27;:visible&#x27;)) {
        startVideoEditorPreviewClip(my_item.attr(&#x27;id&#x27;));
      }
      my_item.find(&#x27;._video_editor_component_menu&#x27;).hide();
      my_item.data(&#x27;rolloverable&#x27;, false);
      my_item.find(&#x27;._video_component_icon&#x27;).addClass(&#x27;current&#x27;);
      my_item.find(&#x27;._video_component_thumb&#x27;).addClass(&#x27;current&#x27;);
      $(&#x27;._video_editor_component ._video_component_transition&#x27;).addClass(&#x27;current&#x27;);
    },
    stop: function(event, ui) {
      my_item = $(ui.item);
      my_item.data(&#x27;rolloverable&#x27;, true);
      my_item.find(&#x27;._video_component_icon&#x27;).removeClass(&#x27;current&#x27;);
      my_item.find(&#x27;._video_component_thumb&#x27;).removeClass(&#x27;current&#x27;);
      resetVisibilityOfVideoEditorTransitions();
      var boolean1 = (my_item.next().attr(&#x27;id&#x27;) == &#x27;add_new_video_component&#x27;);
      var boolean2 = (my_item.data(&#x27;position&#x27;) != $(&#x27;._video_editor_component&#x27;).length);
      var boolean3 = (my_item.next().data(&#x27;position&#x27;) != (my_item.data(&#x27;position&#x27;) + 1));
      if(boolean1 &amp;&amp; boolean2 || !boolean1 &amp;&amp; boolean3) {
        reloadVideoEditorComponentPositions();
        $(&#x27;._video_component_icon&#x27;).effect(&#x27;highlight&#x27;, {color: &#x27;#41A62A&#x27;}, 1500);
      }
    }
  });
}

&#x2F;**
* Video Editor generic video component cutter.
* 
* Also see [initializeVideoEditor](..&#x2F;classes&#x2F;initializeVideoEditor.html#method_initializeVideoEditor)
* 
* @method closeGenericVideoComponentCutter
* @for closeGenericVideoComponentCutter
* @param name {String} An 
*   Attribute name or 
*   object property path.
* @return {String} Unique clientId.
*&#x2F;
function closeGenericVideoComponentCutter() {
  $(&#x27;._video_component_cutter_arrow&#x27;).hide(&#x27;fade&#x27;, {}, 250);
  $(&#x27;._video_component_cutter&#x27;).hide(&#x27;fade&#x27;, {}, 250, function() {
    $(&#x27;#commit_video_editor&#x27;).show();
    $(&#x27;#video_editor_global_preview a&#x27;).removeClass(&#x27;disabled&#x27;);
    $(&#x27;._video_editor_bottom_bar&#x27;).css(&#x27;visibility&#x27;, &#x27;visible&#x27;);
    resetVisibilityOfVideoEditorTransitions();
    $(&#x27;#media_elements_list_in_video_editor .jspHorizontalBar&#x27;).css(&#x27;visibility&#x27;, &#x27;visible&#x27;);
    $(&#x27;._video_editor_bottom_bar&#x27;).show();
    $(&#x27;#video_editor_box_ghost&#x27;).hide();
    $(&#x27;._video_editor_component_hover&#x27;).removeClass(&#x27;selected&#x27;);
    $(&#x27;._new_component_in_video_editor_hover&#x27;).removeClass(&#x27;selected&#x27;);
    $(&#x27;._video_component_icon&#x27;).removeClass(&#x27;selected&#x27;);
  });
}

function resetVisibilityOfVideoEditorTransitions() {
  var components = $(&#x27;._video_editor_component&#x27;);
  components.each(function(index) {
    if(index &lt; (components.length - 1)) {
      $(this).find(&#x27;._video_component_transition&#x27;).removeClass(&#x27;current&#x27;);
    } else {
      $(this).find(&#x27;._video_component_transition&#x27;).addClass(&#x27;current&#x27;);
    }
  });
}

function calculateNewPositionGalleriesInVideoEditor() {
  $(&#x27;#video_editor_mixed_gallery_container&#x27;).css(&#x27;left&#x27;, (($(window).width() - 940) &#x2F; 2) + &#x27;px&#x27;);
  $(&#x27;#video_editor_audio_gallery_container&#x27;).css(&#x27;left&#x27;, (($(window).width() - 940) &#x2F; 2) + &#x27;px&#x27;);
}

function showGalleryInVideoEditor(type) {
  $(&#x27;#media_elements_list_in_video_editor .jspHorizontalBar&#x27;).css(&#x27;visibility&#x27;, &#x27;hidden&#x27;);
  $(&#x27;#video_editor_&#x27; + type + &#x27;_gallery_container&#x27;).show();
  $(&#x27;._video_editor_bottom_bar&#x27;).hide();
  calculateNewPositionGalleriesInVideoEditor();
  $(&#x27;._video_editor_component_menu&#x27;).hide();
}

function closeGalleryInVideoEditor(type) {
  $(&#x27;#video_editor_&#x27; + type + &#x27;_gallery_container&#x27;).hide(&#x27;fade&#x27;, {}, 250, function() {
    $(&#x27;#media_elements_list_in_video_editor .jspHorizontalBar&#x27;).css(&#x27;visibility&#x27;, &#x27;visible&#x27;);
    $(&#x27;._video_editor_bottom_bar&#x27;).show();
    calculateNewPositionGalleriesInVideoEditor();
  });
}

function switchToOtherGalleryInMixedGalleryInVideoEditor(type) {
  if(!$(&#x27;#video_editor_mixed_gallery_container &#x27; + type).is(&#x27;:visible&#x27;)) {
    var big_selector = &#x27;#video_editor_mixed_gallery_container ._videos, #video_editor_mixed_gallery_container ._images, #video_editor_mixed_gallery_container ._texts&#x27;;
    $(big_selector).each(function() {
      if($(this).is(&#x27;:visible&#x27;)) {
        big_selector = this;
      }
    });
    $(big_selector).hide();
    if(type == &#x27;._texts&#x27;) {
      resetVideoEditorTextComponent();
    }
    $(&#x27;#video_editor_mixed_gallery_container &#x27; + type).show();
  }
}

function reloadVideoEditorComponentPositions() {
  var components = $(&#x27;._video_editor_component&#x27;);
  components.each(function(index) {
    $(this).data(&#x27;position&#x27;, (index + 1));
    $(this).find(&#x27;._video_component_input_position&#x27;).val(index + 1);
    $(this).find(&#x27;._video_component_icon ._left&#x27;).html(index + 1);
  });
}

function addImageComponentInVideoEditor(image_id, component, preview, duration) {
  $(&#x27;._new_component_in_video_editor_hover a&#x27;).removeClass(&#x27;current&#x27;);
  var next_position = $(&#x27;#info_container&#x27;).data(&#x27;last-component-id&#x27;) + 1;
  var new_timeline_width = parseInt($(&#x27;#video_editor_timeline&#x27;).css(&#x27;width&#x27;).replace(&#x27;px&#x27;, &#x27;&#x27;)) + 186;
  $(&#x27;#media_elements_list_in_video_editor&#x27;).data(&#x27;jsp&#x27;).destroy();
  $(&#x27;#video_editor_timeline&#x27;).css(&#x27;width&#x27;, new_timeline_width + &#x27;px&#x27;);
  $(&#x27;#media_elements_list_in_video_editor&#x27;).jScrollPane({
    autoReinitialise: true
  });
  $(&#x27;#media_elements_list_in_video_editor .jspHorizontalBar&#x27;).css(&#x27;visibility&#x27;, &#x27;hidden&#x27;);
  $(&#x27;#info_container&#x27;).data(&#x27;last-component-id&#x27;, next_position);
  &#x2F;&#x2F; build preview
  var empty_preview = $(&#x27;#empty_image_preview_for_video_editor&#x27;).html();
  empty_preview = &#x27;&lt;div id=&quot;temporary_empty_preview&quot; &#x27; + empty_preview.substr(empty_preview.indexOf(&#x27;div&#x27;) + 3, empty_preview.length);
  $(&#x27;#video_editor_preview_container&#x27;).append(empty_preview);
  &#x2F;&#x2F; build cutter
  var empty_cutter = $(&#x27;#empty_image_cutter_for_video_editor&#x27;).html();
  empty_cutter = &#x27;&lt;div id=&quot;temporary_empty_cutter&quot; &#x27; + empty_cutter.substr(empty_cutter.indexOf(&#x27;div&#x27;) + 3, empty_cutter.length);
  $(&#x27;#video_editor_cutters&#x27;).append(empty_cutter);
  &#x2F;&#x2F; build component
  var empty_component = $(&#x27;#empty_image_component_for_video_editor&#x27;).html();
  empty_component = &#x27;&lt;div id=&quot;temporary_empty_component&quot; &#x27; + empty_component.substr(empty_component.indexOf(&#x27;div&#x27;) + 3, empty_component.length);
  $(&#x27;#add_new_video_component&#x27;).before(empty_component);
  &#x2F;&#x2F; edit preview
  current_preview = $(&#x27;#temporary_empty_preview&#x27;);
  current_preview.attr(&#x27;id&#x27;, (&#x27;video_component_&#x27; + next_position + &#x27;_preview&#x27;));
  current_preview.html(preview);
  &#x2F;&#x2F; edit cutter
  current_cutter = $(&#x27;#temporary_empty_cutter&#x27;);
  current_cutter.attr(&#x27;id&#x27;, (&#x27;video_component_&#x27; + next_position + &#x27;_cutter&#x27;));
  current_cutter.find(&#x27;._old&#x27;).html(secondsToDateString(duration));
  &#x2F;&#x2F; edit component
  current_component = $(&#x27;#temporary_empty_component&#x27;);
  current_component.attr(&#x27;id&#x27;, (&#x27;video_component_&#x27; + next_position));
  current_component.removeClass(&#x27;_video_editor_empty_component&#x27;).addClass(&#x27;_video_editor_component&#x27;);
  current_component.data(&#x27;duration&#x27;, 0);
  current_component.data(&#x27;position&#x27;, next_position);
  current_component.find(&#x27;._video_component_icon ._left&#x27;).html(next_position);
  current_component.find(&#x27;._video_editor_component_hover&#x27;).append(component);
  var to_be_appended = fillVideoEditorSingleParameter(&#x27;type&#x27;, next_position, &#x27;image&#x27;);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;image_id&#x27;, next_position, image_id);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;duration&#x27;, next_position, duration);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;position&#x27;, next_position, next_position);
  current_component.find(&#x27;._video_editor_component_hover&#x27;).append(to_be_appended);
  &#x2F;&#x2F; other things
  changeDurationVideoEditorComponent((&#x27;video_component_&#x27; + next_position), duration);
  reloadVideoEditorComponentPositions();
  resetVisibilityOfVideoEditorTransitions();
  if(!$(&#x27;#video_editor_global_preview&#x27;).hasClass(&#x27;_enabled&#x27;)) {
    $(&#x27;#video_editor_global_preview&#x27;).addClass(&#x27;_enabled&#x27;);
    $(&#x27;#video_editor_global_preview a&#x27;).removeClass(&#x27;disabled&#x27;);
    $(&#x27;#commit_video_editor&#x27;).css(&#x27;visibility&#x27;, &#x27;visible&#x27;);
  }
  setTimeout(function() {
    highlightAndUpdateVideoComponentIcon((&#x27;video_component_&#x27; + next_position));
    $(&#x27;#media_elements_list_in_video_editor&#x27;).data(&#x27;jsp&#x27;).scrollToPercentX(100, true);
  }, 1100);
}

function replaceImageComponentInVideoEditor(image_id, component, preview, position, duration) {
  var identifier = getVideoComponentIdentifier(position);
  &#x2F;&#x2F; build preview
  var empty_preview = $(&#x27;#empty_image_preview_for_video_editor&#x27;).html();
  empty_preview = &#x27;&lt;div id=&quot;temporary_empty_preview&quot; &#x27; + empty_preview.substr(empty_preview.indexOf(&#x27;div&#x27;) + 3, empty_preview.length);
  $(&#x27;#video_component_&#x27; + identifier + &#x27;_preview&#x27;).replaceWith(empty_preview);
  &#x2F;&#x2F; build cutter
  var empty_cutter = $(&#x27;#empty_image_cutter_for_video_editor&#x27;).html();
  empty_cutter = &#x27;&lt;div id=&quot;temporary_empty_cutter&quot; &#x27; + empty_cutter.substr(empty_cutter.indexOf(&#x27;div&#x27;) + 3, empty_cutter.length);
  $(&#x27;#video_component_&#x27; + identifier + &#x27;_cutter&#x27;).replaceWith(empty_cutter);
  &#x2F;&#x2F; edit preview
  current_preview = $(&#x27;#temporary_empty_preview&#x27;);
  current_preview.attr(&#x27;id&#x27;, (&#x27;video_component_&#x27; + identifier + &#x27;_preview&#x27;));
  current_preview.html(preview);
  &#x2F;&#x2F; edit cutter
  current_cutter = $(&#x27;#temporary_empty_cutter&#x27;);
  current_cutter.attr(&#x27;id&#x27;, (&#x27;video_component_&#x27; + identifier + &#x27;_cutter&#x27;));
  current_cutter.find(&#x27;._old&#x27;).html(secondsToDateString(duration));
  &#x2F;&#x2F; edit component
  $(&#x27;#&#x27; + position).removeClass(&#x27;_video _image _text&#x27;).addClass(&#x27;_image&#x27;);
  $(&#x27;#&#x27; + position + &#x27; ._video_component_thumb&#x27;).replaceWith(component);
  clearSpecificVideoEditorComponentParameters(position);
  $(&#x27;#&#x27; + position + &#x27; ._video_component_input_type&#x27;).val(&#x27;image&#x27;);
  var to_be_appended = fillVideoEditorSingleParameter(&#x27;image_id&#x27;, identifier, image_id);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;duration&#x27;, identifier, duration);
  $(&#x27;#&#x27; + position + &#x27; ._video_editor_component_hover&#x27;).append(to_be_appended);
  &#x2F;&#x2F; other things
  changeDurationVideoEditorComponent(position, duration);
}

function addVideoComponentInVideoEditor(video_id, webm, mp4, component, duration) {
  $(&#x27;._new_component_in_video_editor_hover a&#x27;).removeClass(&#x27;current&#x27;);
  var next_position = $(&#x27;#info_container&#x27;).data(&#x27;last-component-id&#x27;) + 1;
  var new_timeline_width = parseInt($(&#x27;#video_editor_timeline&#x27;).css(&#x27;width&#x27;).replace(&#x27;px&#x27;, &#x27;&#x27;)) + 186;
  $(&#x27;#media_elements_list_in_video_editor&#x27;).data(&#x27;jsp&#x27;).destroy();
  $(&#x27;#video_editor_timeline&#x27;).css(&#x27;width&#x27;, new_timeline_width + &#x27;px&#x27;);
  $(&#x27;#media_elements_list_in_video_editor&#x27;).jScrollPane({
    autoReinitialise: true
  });
  $(&#x27;#media_elements_list_in_video_editor .jspHorizontalBar&#x27;).css(&#x27;visibility&#x27;, &#x27;hidden&#x27;);
  $(&#x27;#info_container&#x27;).data(&#x27;last-component-id&#x27;, next_position);
  &#x2F;&#x2F; build preview
  var empty_preview = $(&#x27;#empty_video_preview_for_video_editor&#x27;).html();
  empty_preview = &#x27;&lt;div id=&quot;temporary_empty_preview&quot; &#x27; + empty_preview.substr(empty_preview.indexOf(&#x27;div&#x27;) + 3, empty_preview.length);
  $(&#x27;#video_editor_preview_container&#x27;).append(empty_preview);
  &#x2F;&#x2F; build cutter
  var empty_cutter = $(&#x27;#empty_video_cutter_for_video_editor&#x27;).html();
  empty_cutter = &#x27;&lt;div id=&quot;temporary_empty_cutter&quot; &#x27; + empty_cutter.substr(empty_cutter.indexOf(&#x27;div&#x27;) + 3, empty_cutter.length);
  $(&#x27;#video_editor_cutters&#x27;).append(empty_cutter);
  &#x2F;&#x2F; build component
  var empty_component = $(&#x27;#empty_video_component_for_video_editor&#x27;).html();
  empty_component = &#x27;&lt;div id=&quot;temporary_empty_component&quot; &#x27; + empty_component.substr(empty_component.indexOf(&#x27;div&#x27;) + 3, empty_component.length);
  $(&#x27;#add_new_video_component&#x27;).before(empty_component);
  &#x2F;&#x2F; edit preview
  current_preview = $(&#x27;#temporary_empty_preview&#x27;);
  if(videoEditorWithAudioTrack()) {
    current_preview.find(&#x27;video&#x27;).prop(&#x27;muted&#x27;, true);
  }
  current_preview.attr(&#x27;id&#x27;, (&#x27;video_component_&#x27; + next_position + &#x27;_preview&#x27;));
  current_preview.find(&#x27;source[type=&quot;video&#x2F;webm&quot;]&#x27;).attr(&#x27;src&#x27;, webm);
  current_preview.find(&#x27;source[type=&quot;video&#x2F;mp4&quot;]&#x27;).attr(&#x27;src&#x27;, mp4);
  current_preview.find(&#x27;video&#x27;).load();
  &#x2F;&#x2F; edit cutter
  current_cutter = $(&#x27;#temporary_empty_cutter&#x27;);
  current_cutter.attr(&#x27;id&#x27;, (&#x27;video_component_&#x27; + next_position + &#x27;_cutter&#x27;));
  current_cutter.find(&#x27;._video_editor_cutter_total_time&#x27;).html(secondsToDateString(duration));
  current_cutter.find(&#x27;._video_editor_cutter_selected_time&#x27;).html(secondsToDateString(duration));
  current_cutter.data(&#x27;to&#x27;, duration);
  current_cutter.data(&#x27;max-to&#x27;, duration);
  initializeVideoInVideoEditorPreview(next_position);
  &#x2F;&#x2F; edit component
  current_component = $(&#x27;#temporary_empty_component&#x27;);
  current_component.attr(&#x27;id&#x27;, (&#x27;video_component_&#x27; + next_position));
  current_component.removeClass(&#x27;_video_editor_empty_component&#x27;).addClass(&#x27;_video_editor_component&#x27;);
  current_component.data(&#x27;duration&#x27;, 0);
  current_component.data(&#x27;position&#x27;, next_position);
  current_component.find(&#x27;._video_component_icon ._left&#x27;).html(next_position);
  current_component.find(&#x27;._video_editor_component_hover&#x27;).append(component);
  var to_be_appended = fillVideoEditorSingleParameter(&#x27;type&#x27;, next_position, &#x27;video&#x27;);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;video_id&#x27;, next_position, video_id);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;from&#x27;, next_position, 0);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;to&#x27;, next_position, duration);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;position&#x27;, next_position, next_position);
  current_component.find(&#x27;._video_editor_component_hover&#x27;).append(to_be_appended);
  &#x2F;&#x2F; other things
  changeDurationVideoEditorComponent((&#x27;video_component_&#x27; + next_position), duration);
  reloadVideoEditorComponentPositions();
  resetVisibilityOfVideoEditorTransitions();
  if(!$(&#x27;#video_editor_global_preview&#x27;).hasClass(&#x27;_enabled&#x27;)) {
    $(&#x27;#video_editor_global_preview&#x27;).addClass(&#x27;_enabled&#x27;);
    $(&#x27;#video_editor_global_preview a&#x27;).removeClass(&#x27;disabled&#x27;);
    $(&#x27;#commit_video_editor&#x27;).css(&#x27;visibility&#x27;, &#x27;visible&#x27;);
  }
  setTimeout(function() {
    highlightAndUpdateVideoComponentIcon((&#x27;video_component_&#x27; + next_position));
    $(&#x27;#media_elements_list_in_video_editor&#x27;).data(&#x27;jsp&#x27;).scrollToPercentX(100, true);
  }, 1100);
}

function replaceVideoComponentInVideoEditor(video_id, webm, mp4, component, position, duration) {
  var identifier = getVideoComponentIdentifier(position);
  &#x2F;&#x2F; build preview
  var empty_preview = $(&#x27;#empty_video_preview_for_video_editor&#x27;).html();
  empty_preview = &#x27;&lt;div id=&quot;temporary_empty_preview&quot; &#x27; + empty_preview.substr(empty_preview.indexOf(&#x27;div&#x27;) + 3, empty_preview.length);
  $(&#x27;#video_component_&#x27; + identifier + &#x27;_preview&#x27;).replaceWith(empty_preview);
  &#x2F;&#x2F; build cutter
  var empty_cutter = $(&#x27;#empty_video_cutter_for_video_editor&#x27;).html();
  empty_cutter = &#x27;&lt;div id=&quot;temporary_empty_cutter&quot; &#x27; + empty_cutter.substr(empty_cutter.indexOf(&#x27;div&#x27;) + 3, empty_cutter.length);
  $(&#x27;#video_component_&#x27; + identifier + &#x27;_cutter&#x27;).replaceWith(empty_cutter);
  &#x2F;&#x2F; edit preview
  current_preview = $(&#x27;#temporary_empty_preview&#x27;);
  if(videoEditorWithAudioTrack()) {
    current_preview.find(&#x27;video&#x27;).prop(&#x27;muted&#x27;, true);
  }
  current_preview.attr(&#x27;id&#x27;, (&#x27;video_component_&#x27; + identifier + &#x27;_preview&#x27;));
  current_preview.find(&#x27;source[type=&quot;video&#x2F;webm&quot;]&#x27;).attr(&#x27;src&#x27;, webm);
  current_preview.find(&#x27;source[type=&quot;video&#x2F;mp4&quot;]&#x27;).attr(&#x27;src&#x27;, mp4);
  current_preview.find(&#x27;video&#x27;).load();
  &#x2F;&#x2F; edit cutter
  current_cutter = $(&#x27;#temporary_empty_cutter&#x27;);
  current_cutter.attr(&#x27;id&#x27;, (&#x27;video_component_&#x27; + identifier + &#x27;_cutter&#x27;));
  current_cutter.find(&#x27;._video_editor_cutter_total_time&#x27;).html(secondsToDateString(duration));
  current_cutter.find(&#x27;._video_editor_cutter_selected_time&#x27;).html(secondsToDateString(duration));
  current_cutter.data(&#x27;to&#x27;, duration);
  current_cutter.data(&#x27;max-to&#x27;, duration);
  initializeVideoInVideoEditorPreview(identifier);
  &#x2F;&#x2F; edit component
  $(&#x27;#&#x27; + position).removeClass(&#x27;_video _image _text&#x27;).addClass(&#x27;_video&#x27;);
  $(&#x27;#&#x27; + position + &#x27; ._video_component_thumb&#x27;).replaceWith(component);
  clearSpecificVideoEditorComponentParameters(position);
  $(&#x27;#&#x27; + position + &#x27; ._video_component_input_type&#x27;).val(&#x27;video&#x27;);
  var to_be_appended = fillVideoEditorSingleParameter(&#x27;video_id&#x27;, identifier, video_id);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;from&#x27;, identifier, 0);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;to&#x27;, identifier, duration);
  $(&#x27;#&#x27; + position + &#x27; ._video_editor_component_hover&#x27;).append(to_be_appended);
  &#x2F;&#x2F; other things
  changeDurationVideoEditorComponent(position, duration);
}

function addTextComponentInVideoEditor(component, content, duration, background_color, text_color) {
  $(&#x27;._new_component_in_video_editor_hover a&#x27;).removeClass(&#x27;current&#x27;);
  var next_position = $(&#x27;#info_container&#x27;).data(&#x27;last-component-id&#x27;) + 1;
  var new_timeline_width = parseInt($(&#x27;#video_editor_timeline&#x27;).css(&#x27;width&#x27;).replace(&#x27;px&#x27;, &#x27;&#x27;)) + 186;
  $(&#x27;#media_elements_list_in_video_editor&#x27;).data(&#x27;jsp&#x27;).destroy();
  $(&#x27;#video_editor_timeline&#x27;).css(&#x27;width&#x27;, new_timeline_width + &#x27;px&#x27;);
  $(&#x27;#media_elements_list_in_video_editor&#x27;).jScrollPane({
    autoReinitialise: true
  });
  $(&#x27;#media_elements_list_in_video_editor .jspHorizontalBar&#x27;).css(&#x27;visibility&#x27;, &#x27;hidden&#x27;);
  $(&#x27;#info_container&#x27;).data(&#x27;last-component-id&#x27;, next_position);
  &#x2F;&#x2F; build preview
  var empty_preview = $(&#x27;#empty_text_preview_for_video_editor&#x27;).html();
  empty_preview = &#x27;&lt;div id=&quot;temporary_empty_preview&quot; &#x27; + empty_preview.substr(empty_preview.indexOf(&#x27;div&#x27;) + 3, empty_preview.length);
  $(&#x27;#video_editor_preview_container&#x27;).append(empty_preview);
  &#x2F;&#x2F; build cutter
  var empty_cutter = $(&#x27;#empty_text_cutter_for_video_editor&#x27;).html();
  empty_cutter = &#x27;&lt;div id=&quot;temporary_empty_cutter&quot; &#x27; + empty_cutter.substr(empty_cutter.indexOf(&#x27;div&#x27;) + 3, empty_cutter.length);
  $(&#x27;#video_editor_cutters&#x27;).append(empty_cutter);
  &#x2F;&#x2F; build component
  var empty_component = $(&#x27;#empty_text_component_for_video_editor&#x27;).html();
  empty_component = &#x27;&lt;div id=&quot;temporary_empty_component&quot; &#x27; + empty_component.substr(empty_component.indexOf(&#x27;div&#x27;) + 3, empty_component.length);
  $(&#x27;#add_new_video_component&#x27;).before(empty_component);
  &#x2F;&#x2F; edit preview
  current_preview = $(&#x27;#temporary_empty_preview&#x27;);
  current_preview.attr(&#x27;id&#x27;, (&#x27;video_component_&#x27; + next_position + &#x27;_preview&#x27;));
  current_preview.removeClass(&#x27;background_color_white&#x27;).addClass(&#x27;background_color_&#x27; + background_color);
  current_preview.find(&#x27;p&#x27;).removeClass(&#x27;color_black&#x27;).addClass(&#x27;color_&#x27; + text_color);
  current_preview.find(&#x27;p&#x27;).html(content);
  &#x2F;&#x2F; edit cutter
  current_cutter = $(&#x27;#temporary_empty_cutter&#x27;);
  current_cutter.attr(&#x27;id&#x27;, (&#x27;video_component_&#x27; + next_position + &#x27;_cutter&#x27;));
  current_cutter.find(&#x27;._old&#x27;).html(secondsToDateString(duration));
  &#x2F;&#x2F; edit component
  current_component = $(&#x27;#temporary_empty_component&#x27;);
  current_component.attr(&#x27;id&#x27;, (&#x27;video_component_&#x27; + next_position));
  current_component.removeClass(&#x27;_video_editor_empty_component&#x27;).addClass(&#x27;_video_editor_component&#x27;);
  current_component.data(&#x27;duration&#x27;, 0);
  current_component.data(&#x27;position&#x27;, next_position);
  current_component.find(&#x27;._video_component_icon ._left&#x27;).html(next_position);
  current_component.find(&#x27;._video_editor_component_hover&#x27;).append(component);
  $(&#x27;#video_component_&#x27; + next_position + &#x27; ._video_component_thumb ._text_content&#x27;).html(content);
  $(&#x27;#video_component_&#x27; + next_position + &#x27; ._video_component_thumb ._text_content&#x27;).removeClass(&#x27;color_black&#x27;).addClass(&#x27;color_&#x27; + text_color);
  $(&#x27;#video_component_&#x27; + next_position + &#x27; ._video_component_thumb&#x27;).removeClass(&#x27;background_color_white&#x27;).addClass(&#x27;background_color_&#x27; + background_color);
  var to_be_appended = fillVideoEditorSingleParameter(&#x27;type&#x27;, next_position, &#x27;text&#x27;);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;content&#x27;, next_position, content);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;duration&#x27;, next_position, duration);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;background_color&#x27;, next_position, background_color);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;text_color&#x27;, next_position, text_color);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;position&#x27;, next_position, next_position);
  current_component.find(&#x27;._video_editor_component_hover&#x27;).append(to_be_appended);
  &#x2F;&#x2F; other things
  changeDurationVideoEditorComponent((&#x27;video_component_&#x27; + next_position), duration);
  reloadVideoEditorComponentPositions();
  resetVisibilityOfVideoEditorTransitions();
  if(!$(&#x27;#video_editor_global_preview&#x27;).hasClass(&#x27;_enabled&#x27;)) {
    $(&#x27;#video_editor_global_preview&#x27;).addClass(&#x27;_enabled&#x27;);
    $(&#x27;#video_editor_global_preview a&#x27;).removeClass(&#x27;disabled&#x27;);
    $(&#x27;#commit_video_editor&#x27;).css(&#x27;visibility&#x27;, &#x27;visible&#x27;);
  }
  setTimeout(function() {
    highlightAndUpdateVideoComponentIcon((&#x27;video_component_&#x27; + next_position));
    $(&#x27;#media_elements_list_in_video_editor&#x27;).data(&#x27;jsp&#x27;).scrollToPercentX(100, true);
  }, 1100);
}

function replaceTextComponentInVideoEditor(component, content, position, duration, background_color, text_color) {
  var identifier = getVideoComponentIdentifier(position);
  &#x2F;&#x2F; build preview
  var empty_preview = $(&#x27;#empty_text_preview_for_video_editor&#x27;).html();
  empty_preview = &#x27;&lt;div id=&quot;temporary_empty_preview&quot; &#x27; + empty_preview.substr(empty_preview.indexOf(&#x27;div&#x27;) + 3, empty_preview.length);
  $(&#x27;#video_component_&#x27; + identifier + &#x27;_preview&#x27;).replaceWith(empty_preview);
  &#x2F;&#x2F; build cutter
  var empty_cutter = $(&#x27;#empty_text_cutter_for_video_editor&#x27;).html();
  empty_cutter = &#x27;&lt;div id=&quot;temporary_empty_cutter&quot; &#x27; + empty_cutter.substr(empty_cutter.indexOf(&#x27;div&#x27;) + 3, empty_cutter.length);
  $(&#x27;#video_component_&#x27; + identifier + &#x27;_cutter&#x27;).replaceWith(empty_cutter);
  &#x2F;&#x2F; edit preview
  current_preview = $(&#x27;#temporary_empty_preview&#x27;);
  current_preview.attr(&#x27;id&#x27;, (&#x27;video_component_&#x27; + identifier + &#x27;_preview&#x27;));
  current_preview.removeClass(&#x27;background_color_white&#x27;).addClass(&#x27;background_color_&#x27; + background_color);
  current_preview.find(&#x27;p&#x27;).removeClass(&#x27;color_black&#x27;).addClass(&#x27;color_&#x27; + text_color);
  current_preview.find(&#x27;p&#x27;).html(content);
  &#x2F;&#x2F; edit cutter
  current_cutter = $(&#x27;#temporary_empty_cutter&#x27;);
  current_cutter.attr(&#x27;id&#x27;, (&#x27;video_component_&#x27; + identifier + &#x27;_cutter&#x27;));
  current_cutter.find(&#x27;._old&#x27;).html(secondsToDateString(duration));
  &#x2F;&#x2F; edit component
  $(&#x27;#&#x27; + position).removeClass(&#x27;_video _image _text&#x27;).addClass(&#x27;_text&#x27;);
  $(&#x27;#&#x27; + position + &#x27; ._video_component_thumb&#x27;).replaceWith(component);
  $(&#x27;#&#x27; + position + &#x27; ._video_component_thumb ._text_content&#x27;).html(content);
  $(&#x27;#&#x27; + position + &#x27; ._video_component_thumb ._text_content&#x27;).removeClass(&#x27;color_black&#x27;).addClass(&#x27;color_&#x27; + text_color);
  $(&#x27;#&#x27; + position + &#x27; ._video_component_thumb&#x27;).removeClass(&#x27;background_color_white&#x27;).addClass(&#x27;background_color_&#x27; + background_color);
  clearSpecificVideoEditorComponentParameters(position);
  $(&#x27;#&#x27; + position + &#x27; ._video_component_input_type&#x27;).val(&#x27;text&#x27;);
  var to_be_appended = fillVideoEditorSingleParameter(&#x27;content&#x27;, identifier, content);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;background_color&#x27;, identifier, background_color);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;text_color&#x27;, identifier, text_color);
  to_be_appended += fillVideoEditorSingleParameter(&#x27;duration&#x27;, identifier, duration);
  $(&#x27;#&#x27; + position + &#x27; ._video_editor_component_hover&#x27;).append(to_be_appended);
  &#x2F;&#x2F; other things
  changeDurationVideoEditorComponent(position, duration);
}

function resetVideoEditorTextComponent() {
  $(&#x27;#text_component_preview textarea&#x27;).val($(&#x27;#text_component_preview&#x27;).data(&#x27;placeholder-content&#x27;));
  $(&#x27;#video_editor_mixed_gallery_container ._texts ._duration_selector input&#x27;).val(&#x27;&#x27;);
  $(&#x27;#text_component_preview&#x27;).data(&#x27;placeholder&#x27;, true);
  var old_background_color = $(&#x27;#text_component_preview&#x27;).data(&#x27;background-color&#x27;);
  var old_text_color = $(&#x27;#text_component_preview&#x27;).data(&#x27;text-color&#x27;);
  switchTextComponentBackgroundColor(old_background_color, &#x27;white&#x27;);
  switchTextComponentTextColor(old_text_color, &#x27;black&#x27;);
}

function switchTextComponentBackgroundColor(old_color, new_color) {
  $(&#x27;#text_component_preview&#x27;).removeClass(&#x27;background_color_&#x27; + old_color).addClass(&#x27;background_color_&#x27; + new_color);
  $(&#x27;._text_component_in_video_editor_background_color_selector ._color&#x27;).removeClass(&#x27;current&#x27;);
  $(&#x27;._text_component_in_video_editor_background_color_selector .background_color_&#x27; + new_color).addClass(&#x27;current&#x27;);
  $(&#x27;#text_component_preview&#x27;).data(&#x27;background-color&#x27;, new_color);
}

function switchTextComponentTextColor(old_color, new_color) {
  $(&#x27;#text_component_preview textarea&#x27;).removeClass(&#x27;color_&#x27; + old_color).addClass(&#x27;color_&#x27; + new_color);
  $(&#x27;._text_component_in_video_editor_text_color_selector ._color&#x27;).removeClass(&#x27;current&#x27;);
  $(&#x27;._text_component_in_video_editor_text_color_selector .background_color_&#x27; + new_color).addClass(&#x27;current&#x27;);
  $(&#x27;#text_component_preview&#x27;).data(&#x27;text-color&#x27;, new_color);
}

function changeDurationVideoEditorComponent(component_id, new_duration) {
  var old_duration = $(&#x27;#&#x27; + component_id).data(&#x27;duration&#x27;);
  var total_length = $(&#x27;#info_container&#x27;).data(&#x27;total-length&#x27;);
  total_length -= old_duration;
  total_length += new_duration;
  if($(&#x27;._video_editor_component&#x27;).length &gt; 1) {
    if(old_duration == 0) {
      total_length += 1;
    }
    if(new_duration == 0) {
      total_length -= 1;
    }
  }
  $(&#x27;#&#x27; + component_id).data(&#x27;duration&#x27;, new_duration);
  $(&#x27;#&#x27; + component_id + &#x27; ._video_component_icon ._right&#x27;).html(secondsToDateString(new_duration));
  $(&#x27;#info_container&#x27;).data(&#x27;total-length&#x27;, total_length);
  $(&#x27;#visual_video_editor_total_length&#x27;).html(secondsToDateString(total_length));
}

function fillVideoEditorSingleParameter(input, identifier, value) {
  return &#x27;&lt;input id=&quot;&#x27; + input + &#x27;_&#x27; + identifier + &#x27;&quot; class=&quot;_video_component_input_&#x27; + input + &#x27;&quot; type=&quot;hidden&quot; value=&quot;&#x27; + value + &#x27;&quot; name=&quot;&#x27; + input + &#x27;_&#x27; + identifier + &#x27;&quot;&gt;&#x27;;
}

function clearSpecificVideoEditorComponentParameters(component_id) {
  var huge_selector = &#x27;#&#x27; + component_id + &#x27; ._video_component_input_content&#x27;;
  huge_selector += &#x27;, #&#x27; + component_id + &#x27; ._video_component_input_background_color&#x27;;
  huge_selector += &#x27;, #&#x27; + component_id + &#x27; ._video_component_input_text_color&#x27;;
  huge_selector += &#x27;, #&#x27; + component_id + &#x27; ._video_component_input_duration&#x27;;
  huge_selector += &#x27;, #&#x27; + component_id + &#x27; ._video_component_input_image_id&#x27;;
  huge_selector += &#x27;, #&#x27; + component_id + &#x27; ._video_component_input_video_id&#x27;;
  huge_selector += &#x27;, #&#x27; + component_id + &#x27; ._video_component_input_from&#x27;;
  huge_selector += &#x27;, #&#x27; + component_id + &#x27; ._video_component_input_to&#x27;;
  $(huge_selector).remove();
}

function highlightAndUpdateVideoComponentIcon(component_id) {
  $(&#x27;#&#x27; + component_id + &#x27; ._video_component_icon&#x27;).effect(&#x27;highlight&#x27;, {color: &#x27;#41A62A&#x27;}, 1500);
}

function startVideoEditorPreviewClipWithDelay(component_id) {
  setTimeout(function() {
    var obj = $(&#x27;#&#x27; + component_id);
    if(obj.data(&#x27;preview-selected&#x27;) &amp;&amp; !$(&#x27;#&#x27; + component_id + &#x27;_preview&#x27;).is(&#x27;:visible&#x27;)) {
      startVideoEditorPreviewClip(component_id);
    }
  }, 500);
}

function showVideoEditorCutter(component_id) {
  $(&#x27;._video_editor_bottom_bar&#x27;).css(&#x27;visibility&#x27;, &#x27;hidden&#x27;);
  $(&#x27;#commit_video_editor&#x27;).hide();
  $(&#x27;#media_elements_list_in_video_editor .jspHorizontalBar&#x27;).css(&#x27;visibility&#x27;, &#x27;hidden&#x27;);
  $(&#x27;#&#x27; + component_id + &#x27; ._video_component_cutter_arrow&#x27;).show(&#x27;fade&#x27;, {}, 250);
  $(&#x27;#&#x27; + component_id + &#x27;_cutter&#x27;).show(&#x27;fade&#x27;, {}, 250, function() {
    $(&#x27;#video_editor_global_preview a&#x27;).addClass(&#x27;disabled&#x27;);
    $(&#x27;._video_component_transition&#x27;).addClass(&#x27;current&#x27;);
    $(&#x27;._video_editor_component:not(#&#x27; + component_id + &#x27;) ._video_editor_component_hover&#x27;).addClass(&#x27;selected&#x27;);
    $(&#x27;._video_component_icon&#x27;).addClass(&#x27;selected&#x27;);
    $(&#x27;#&#x27; + component_id + &#x27; ._video_component_icon&#x27;).removeClass(&#x27;selected&#x27;);
    $(&#x27;._new_component_in_video_editor_hover&#x27;).addClass(&#x27;selected&#x27;);
  });
}

function startVideoEditorPreviewClip(component_id) {
  $(&#x27;._video_component_preview&#x27;).hide();
  loadVideoComponentIfNotLoadedYet(component_id);
  $(&#x27;#&#x27; + component_id + &#x27;_preview&#x27;).show(&#x27;fade&#x27;, {}, 250);
}

function loadVideoComponentIfNotLoadedYet(component_id) {
  if(!$(&#x27;#&#x27; + component_id + &#x27;_preview&#x27;).data(&#x27;loaded&#x27;)) {
    var mp4 = $(&#x27;#&#x27; + component_id + &#x27;_preview&#x27;).data(&#x27;mp4&#x27;);
    var webm = $(&#x27;#&#x27; + component_id + &#x27;_preview&#x27;).data(&#x27;webm&#x27;);
    $(&#x27;#&#x27; + component_id + &#x27;_preview video source[type=&quot;video&#x2F;mp4&quot;]&#x27;).attr(&#x27;src&#x27;, mp4);
    $(&#x27;#&#x27; + component_id + &#x27;_preview video source[type=&quot;video&#x2F;webm&quot;]&#x27;).attr(&#x27;src&#x27;, webm);
    $(&#x27;#&#x27; + component_id + &#x27;_preview video&#x27;).load();
    $(&#x27;#&#x27; + component_id + &#x27;_preview&#x27;).data(&#x27;loaded&#x27;, true);
  }
}

function commitVideoComponentVideoCutter(identifier) {
  var from = $(&#x27;#video_component_&#x27; + identifier + &#x27;_cutter&#x27;).data(&#x27;from&#x27;);
  var to = $(&#x27;#video_component_&#x27; + identifier + &#x27;_cutter&#x27;).data(&#x27;to&#x27;);
  $(&#x27;#video_component_&#x27; + identifier + &#x27; ._video_component_input_from&#x27;).val(from);
  $(&#x27;#video_component_&#x27; + identifier + &#x27; ._video_component_input_to&#x27;).val(to);
  changeDurationVideoEditorComponent(&#x27;video_component_&#x27; + identifier, to - from);
  if($(&#x27;#video_component_&#x27; + identifier + &#x27;_cutter&#x27;).data(&#x27;changed&#x27;)) {
    highlightAndUpdateVideoComponentIcon(&#x27;video_component_&#x27; + identifier);
    $(&#x27;#video_component_&#x27; + identifier + &#x27;_cutter&#x27;).data(&#x27;changed&#x27;, false);
  }
}

function videoEditorWithAudioTrack() {
  return $(&#x27;#audio_track_in_video_editor_input&#x27;).val() != &#x27;&#x27;;
}

function cutVideoComponentLeftSide(identifier, pos) {
  $(&#x27;#video_component_&#x27; + identifier + &#x27;_cutter&#x27;).data(&#x27;from&#x27;, pos);
  var new_duration = $(&#x27;#video_component_&#x27; + identifier + &#x27;_cutter&#x27;).data(&#x27;to&#x27;) - pos;
  $(&#x27;#video_component_&#x27; + identifier + &#x27;_cutter ._video_editor_cutter_selected_time&#x27;).html(secondsToDateString(new_duration));
}

function cutVideoComponentRightSide(identifier, pos) {
  $(&#x27;#video_component_&#x27; + identifier + &#x27;_cutter&#x27;).data(&#x27;to&#x27;, pos);
  var new_duration = pos - $(&#x27;#video_component_&#x27; + identifier + &#x27;_cutter&#x27;).data(&#x27;from&#x27;);
  $(&#x27;#video_component_&#x27; + identifier + &#x27;_cutter ._video_editor_cutter_selected_time&#x27;).html(secondsToDateString(new_duration));
}

function calculateVideoComponentStartSecondInVideoEditor(identifier) {
  var duration = 0;
  var stop = false;
  $(&#x27;._video_editor_component&#x27;).each(function(index) {
    if(getVideoComponentIdentifier($(this).attr(&#x27;id&#x27;)) == identifier) {
      stop = true;
    } else if(!stop) {
      duration += ($(this).data(&#x27;duration&#x27;) + 1);
    }
  });
  var cutter = $(&#x27;#video_component_&#x27; + identifier + &#x27;_cutter&#x27;);
  if(!cutter.hasClass(&#x27;_mini_cutter&#x27;)) {
    duration += (cutter.find(&#x27;._media_player_slider&#x27;).slider(&#x27;value&#x27;) - cutter.data(&#x27;from&#x27;));
  }
  return duration;
}

function startVideoEditorGlobalPreview() {
  $(&#x27;#video_editor_global_preview&#x27;).data(&#x27;in-use&#x27;, true);
  var current_identifier = $(&#x27;#video_editor_global_preview&#x27;).data(&#x27;current-component&#x27;);
  var current_component = $(&#x27;#video_component_&#x27; + current_identifier);
  var actual_audio_track_time = calculateVideoComponentStartSecondInVideoEditor(current_identifier) + current_component.data(&#x27;current-preview-time&#x27;);
  if(videoEditorWithAudioTrack() &amp;&amp; actual_audio_track_time &lt; $(&#x27;#full_audio_track_placeholder_in_video_editor&#x27;).data(&#x27;duration&#x27;)) {
    var audio_track = $(&#x27;#video_editor_preview_container audio&#x27;);
    if(media[0].error) {
      showLoadingMediaErrorPopup(audio_track[0].error.code, &#x27;audio&#x27;);
    } else {
      setCurrentTimeToMedia(audio_track, actual_audio_track_time);
      if(audio_track.readyState != 0) {
        audio_track[0].play();
      } else {
        audio_track.on(&#x27;loadedmetadata&#x27;, function() {
          audio_track[0].play();
        });
      }
    }
  }
  if(current_component.data(&#x27;position&#x27;) == getHowManyComponentsHiddenToLeftTimelineHorizontalScrollPane(&#x27;media_elements_list_in_video_editor&#x27;, 186) + 1) {
    playVideoEditorComponent(current_component, false);
  } else {
    hideVideoEditorPreviewComponentProgressBar();
    playVideoEditorComponent(current_component, true);
  }
}

function getFirstVideoEditorComponent() {
  return $(&#x27;._video_editor_component&#x27;).first();
}

function getLastVideoEditorComponent() {
  var components = $(&#x27;._video_editor_component&#x27;);
  return $(components[components.length - 1]);
}

function playVideoEditorComponent(component, with_scroll) {
  if(with_scroll) {
    followPreviewComponentsWithHorizontalScrollInVideoEditor();
  }
  var identifier = getVideoComponentIdentifier(component.attr(&#x27;id&#x27;));
  $(&#x27;._video_component_transition&#x27;).addClass(&#x27;current&#x27;);
  var next_component_to_load = component.next();
  if(next_component_to_load.hasClass(&#x27;_video_editor_component&#x27;)) {
    loadVideoComponentIfNotLoadedYet(next_component_to_load.attr(&#x27;id&#x27;));
  }
  if(component.hasClass(&#x27;_video&#x27;)) {
    var video = $(&#x27;#video_component_&#x27; + identifier + &#x27;_preview video&#x27;);
    if(video[0].error) {
      showLoadingMediaErrorPopup(video[0].error.code, &#x27;video&#x27;);
      $(&#x27;#video_editor_global_preview_pause&#x27;).click();
    } else {
      if(video.readyState != 0) {
        video[0].play();
      } else {
        video.on(&#x27;loadedmetadata&#x27;, function() {
          video[0].play();
        });
      }
    }
  } else {
    automaticIncreaseVideoEditorPreviewTimer(component.data(&#x27;current-preview-time&#x27;) + 1, component.data(&#x27;duration&#x27;), function() {
      var next_component = component.next();
      var next_identifier = getVideoComponentIdentifier(next_component.attr(&#x27;id&#x27;));
      if(next_component.hasClass(&#x27;_video_editor_component&#x27;)) {
        increaseVideoEditorPreviewTimer(true);
        $(&#x27;#video_editor_global_preview&#x27;).data(&#x27;current-component&#x27;, getVideoComponentIdentifier(next_component.attr(&#x27;id&#x27;)));
        $(&#x27;#video_component_&#x27; + identifier + &#x27;_preview&#x27;).hide(&#x27;fade&#x27;, {}, 1000);
        component.find(&#x27;._video_component_transition&#x27;).removeClass(&#x27;current&#x27;);
        next_component.find(&#x27;._video_editor_component_hover, ._video_component_icon&#x27;).removeClass(&#x27;selected&#x27;);
        $(&#x27;#video_component_&#x27; + next_identifier + &#x27;_preview&#x27;).show(&#x27;fade&#x27;, {}, 1000, function() {
          hideVideoEditorPreviewComponentProgressBar();
          $(&#x27;#video_component_&#x27; + identifier + &#x27; ._video_component_icon ._right&#x27;).html(secondsToDateString(0));
          if(!$(&#x27;#video_editor_global_preview&#x27;).data(&#x27;in-use&#x27;)) {
            $(&#x27;._video_component_transition&#x27;).addClass(&#x27;current&#x27;);
          }
          increaseVideoEditorPreviewTimer(false);
          component.find(&#x27;._video_editor_component_hover, ._video_component_icon&#x27;).addClass(&#x27;selected&#x27;);
          if($(&#x27;#video_editor_global_preview&#x27;).data(&#x27;in-use&#x27;)) {
            playVideoEditorComponent(next_component, true);
          } else {
            var how_many_hidden_to_left = getHowManyComponentsHiddenToLeftTimelineHorizontalScrollPane(&#x27;media_elements_list_in_video_editor&#x27;, 186);
            showVideoEditorPreviewComponentProgressBar(next_identifier, next_component.data(&#x27;position&#x27;) - how_many_hidden_to_left);
          }
        });
      } else {
        var first_component = getFirstVideoEditorComponent();
        selectVideoComponentInPreview(first_component);
        hideVideoEditorPreviewComponentProgressBar();
        if(videoEditorWithAudioTrack()) {
          $(&#x27;#video_editor_preview_container audio&#x27;)[0].pause();
        }
        $(&#x27;#video_editor_global_preview_pause&#x27;).trigger(&#x27;click&#x27;);
        if($(&#x27;._video_editor_component&#x27;).length &gt; 5) {
          $(&#x27;#media_elements_list_in_video_editor&#x27;).jScrollPane().bind(&#x27;panescrollstop&#x27;, function() {
            showVideoEditorPreviewComponentProgressBar(getVideoComponentIdentifier(first_component.attr(&#x27;id&#x27;)), 1);
            $(&#x27;#media_elements_list_in_video_editor&#x27;).jScrollPane().unbind(&#x27;panescrollstop&#x27;);
          });
          $(&#x27;#media_elements_list_in_video_editor&#x27;).data(&#x27;jsp&#x27;).scrollToX(0, true, 500);
        } else {
          showVideoEditorPreviewComponentProgressBar(getVideoComponentIdentifier(first_component.attr(&#x27;id&#x27;)), 1);
        }
      }
    });
  }
}

function selectVideoComponentInPreview(component, time) {
  $(&#x27;._video_component_preview&#x27;).hide();
  $(&#x27;#&#x27; + component.attr(&#x27;id&#x27;) + &#x27;_preview&#x27;).show();
  $(&#x27;._video_editor_component_hover, ._video_component_icon&#x27;).addClass(&#x27;selected&#x27;);
  component.find(&#x27;._video_editor_component_hover, ._video_component_icon&#x27;).removeClass(&#x27;selected&#x27;);
  if(time == undefined) {
    time = 0;
  }
  setVisualTimesVideoEditorPreview(component, time);
}

function setVisualTimesVideoEditorPreview(component, time) {
  var identifier = getVideoComponentIdentifier(component.attr(&#x27;id&#x27;));
  var global_time = calculateVideoComponentStartSecondInVideoEditor(identifier) + time;
  $(&#x27;#visual_video_editor_current_time&#x27;).html(secondsToDateString(global_time));
  $(&#x27;#video_editor_global_preview&#x27;).data(&#x27;current-time&#x27;, global_time);
  $(&#x27;#video_editor_global_preview&#x27;).data(&#x27;current-component&#x27;, identifier);
  $(&#x27;._video_editor_component&#x27;).each(function() {
    var my_identifier = getVideoComponentIdentifier($(this).attr(&#x27;id&#x27;));
    if(my_identifier == identifier) {
      $(this).find(&#x27;._video_component_icon ._right&#x27;).html(secondsToDateString(time));
      $(this).data(&#x27;current-preview-time&#x27;, time);
      if($(&#x27;#video_component_&#x27; + my_identifier + &#x27;_preview video&#x27;).length &gt; 0 &amp;&amp; $(&#x27;#video_component_&#x27; + my_identifier + &#x27;_preview&#x27;).data(&#x27;loaded&#x27;)) {
        setCurrentTimeToMedia($(&#x27;#video_component_&#x27; + my_identifier + &#x27;_preview video&#x27;), $(&#x27;#video_component_&#x27; + my_identifier + &#x27;_cutter&#x27;).data(&#x27;from&#x27;) + time);
      }
    } else {
      $(this).find(&#x27;._video_component_icon ._right&#x27;).html(secondsToDateString(0));
      $(this).data(&#x27;current-preview-time&#x27;, 0);
      if($(&#x27;#video_component_&#x27; + my_identifier + &#x27;_preview video&#x27;).length &gt; 0 &amp;&amp; $(&#x27;#video_component_&#x27; + my_identifier + &#x27;_preview&#x27;).data(&#x27;loaded&#x27;)) {
        setCurrentTimeToMedia($(&#x27;#video_component_&#x27; + my_identifier + &#x27;_preview video&#x27;), $(&#x27;#video_component_&#x27; + my_identifier + &#x27;_cutter&#x27;).data(&#x27;from&#x27;));
      }
    }
  });
}

function getInitialPointOfVideoEditorComponent(component) {
  resp = 0;
  if(component.hasClass(&#x27;_video&#x27;)) {
    resp = $(&#x27;#&#x27; + component.attr(&#x27;id&#x27;) + &#x27;_cutter&#x27;).data(&#x27;from&#x27;);
  }
  return resp;
}

function getVideoComponentIdentifier(item_id) {
  var resp = item_id.split(&#x27;_&#x27;);
  if($(&#x27;#&#x27; + item_id).hasClass(&#x27;_video_editor_component&#x27;)) {
    return resp[resp.length - 1];
  } else {
    return resp[resp.length - 2];
  }
}

function automaticIncreaseVideoEditorPreviewTimer(time, total_length, callback) {
  setTimeout(function() {
    if($(&#x27;#video_editor_global_preview&#x27;).data(&#x27;in-use&#x27;)) {
      if(time &lt; total_length) {
        increaseVideoEditorPreviewTimer(true);
        automaticIncreaseVideoEditorPreviewTimer(time + 1, total_length, callback);
      } else {
        callback();
      }
    }
  }, 1000);
}

function increaseVideoEditorPreviewTimer(with_component) {
  var data_container = $(&#x27;#video_editor_global_preview&#x27;);
  var global_time = data_container.data(&#x27;current-time&#x27;);
  $(&#x27;#visual_video_editor_current_time&#x27;).html(secondsToDateString(global_time + 1));
  data_container.data(&#x27;current-time&#x27;, global_time + 1);
  if(with_component) {
    var identifier = data_container.data(&#x27;current-component&#x27;);
    var component = $(&#x27;#video_component_&#x27; + identifier);
    var component_time = component.data(&#x27;current-preview-time&#x27;);
    component.find(&#x27;._video_component_icon ._right&#x27;).html(secondsToDateString(component_time + 1));
    component.data(&#x27;current-preview-time&#x27;, component_time + 1);
    if($(&#x27;#video_editor_preview_slider&#x27;).is(&#x27;:visible&#x27;)) {
      $(&#x27;#video_editor_preview_slider&#x27;).slider(&#x27;value&#x27;, component_time + 1);
    }
  }
}

function showVideoEditorPreviewArrowToComponents() {
  if(getVideoComponentIdentifier(getFirstVideoEditorComponent().attr(&#x27;id&#x27;)) != $(&#x27;#video_editor_global_preview&#x27;).data(&#x27;current-component&#x27;)) {
    $(&#x27;#video_editor_preview_go_to_left_component&#x27;).show();
  } else {
    $(&#x27;#video_editor_preview_go_to_left_component&#x27;).hide();
  }
  if(getVideoComponentIdentifier(getLastVideoEditorComponent().attr(&#x27;id&#x27;)) != $(&#x27;#video_editor_global_preview&#x27;).data(&#x27;current-component&#x27;)) {
    $(&#x27;#video_editor_preview_go_to_right_component&#x27;).show();
  } else {
    $(&#x27;#video_editor_preview_go_to_right_component&#x27;).hide();
  }
}

function openPreviewModeInVideoEditor() {
  var first_component = getFirstVideoEditorComponent();
  var first_identifier = getVideoComponentIdentifier(first_component.attr(&#x27;id&#x27;));
  $(&#x27;._video_component_preview&#x27;).hide();
  $(&#x27;#full_audio_track_placeholder_in_video_editor, #empty_audio_track_placeholder_in_video_editor&#x27;).css(&#x27;visibility&#x27;, &#x27;hidden&#x27;);
  $(&#x27;#visual_video_editor_current_time&#x27;).css(&#x27;visibility&#x27;, &#x27;visible&#x27;).css(&#x27;color&#x27;, &#x27;white&#x27;);
  $(&#x27;#visual_video_editor_total_length&#x27;).css(&#x27;color&#x27;, &#x27;#787575&#x27;);
  $(&#x27;#video_editor_global_preview&#x27;).hide();
  $(&#x27;#video_editor_global_preview_pause&#x27;).show();
  $(&#x27;#commit_video_editor&#x27;).hide();
  $(&#x27;#video_editor_box_ghost&#x27;).show();
  $(&#x27;._video_editor_component_hover, ._video_component_icon&#x27;).addClass(&#x27;selected&#x27;);
  $(&#x27;#media_elements_list_in_video_editor&#x27;).data(&#x27;jsp&#x27;).destroy();
  $(&#x27;#add_new_video_component&#x27;).hide();
  $(&#x27;#add_new_video_component&#x27;).prev().find(&#x27;._video_component_transition&#x27;).hide();
  $(&#x27;#add_new_video_component&#x27;).prev().css(&#x27;width&#x27;, &#x27;159&#x27;);
  var new_timeline_width = parseInt($(&#x27;#video_editor_timeline&#x27;).css(&#x27;width&#x27;).replace(&#x27;px&#x27;, &#x27;&#x27;)) - 184;
  $(&#x27;#video_editor_timeline&#x27;).css(&#x27;width&#x27;, new_timeline_width + &#x27;px&#x27;);
  $(&#x27;#video_editor_preview_slider_box_ghost&#x27;).show();
  $(&#x27;#media_elements_list_in_video_editor&#x27;).jScrollPane({
    autoReinitialise: true,
    initialHorizontalStyles: &#x27;visibility:hidden&#x27;
  });
  $(&#x27;._video_component_transition&#x27;).addClass(&#x27;current&#x27;);
  setVisualTimesVideoEditorPreview(first_component, 0);
  $(&#x27;#video_editor_preview_container ._loader&#x27;).show();
  $(&#x27;#video_editor_global_preview_pause a&#x27;).addClass(&#x27;disabled&#x27;);
  setTimeout(function() {
    $(&#x27;#video_editor_global_preview_pause&#x27;).addClass(&#x27;_enabled&#x27;);
    $(&#x27;#video_editor_global_preview_pause a&#x27;).removeClass(&#x27;disabled&#x27;);
    $(&#x27;#video_editor_preview_container ._loader&#x27;).hide();
    $(&#x27;#video_component_&#x27; + first_identifier + &#x27;_preview&#x27;).show();
    showVideoEditorPreviewComponentProgressBar(first_identifier, 1);
    first_component.find(&#x27;._video_editor_component_hover, ._video_component_icon&#x27;).removeClass(&#x27;selected&#x27;);
    startVideoEditorGlobalPreview();
  }, 1500);
}

function followPreviewComponentsWithHorizontalScrollInVideoEditor() {
  var jsp_handler = $(&#x27;#media_elements_list_in_video_editor&#x27;).data(&#x27;jsp&#x27;);
  var identifier = $(&#x27;#video_editor_global_preview&#x27;).data(&#x27;current-component&#x27;);
  var pos = $(&#x27;#video_component_&#x27; + identifier).data(&#x27;position&#x27;);
  var how_many_hidden_to_left = getHowManyComponentsHiddenToLeftTimelineHorizontalScrollPane(&#x27;media_elements_list_in_video_editor&#x27;, 186);
  var movement = 0;
  var whole_movement = 0;
  if(pos - how_many_hidden_to_left == 5) {
    movement = calculateCorrectMovementHorizontalScrollRight(how_many_hidden_to_left, 4, $(&#x27;._video_editor_component&#x27;).length, 5);
    if(movement &gt; 0) {
      whole_movement = (how_many_hidden_to_left + movement) * 186;
    }
  } else if(pos - how_many_hidden_to_left == 6) {
    movement = calculateCorrectMovementHorizontalScrollRight(how_many_hidden_to_left, 5, $(&#x27;._video_editor_component&#x27;).length, 5);
    if(movement &gt; 0) {
      whole_movement = (how_many_hidden_to_left + movement) * 186;
    }
  } else if(pos == how_many_hidden_to_left) {
    movement = calculateCorrectMovementHorizontalScrollLeft(how_many_hidden_to_left, 5);
    if(movement &gt; 0) {
      whole_movement = (how_many_hidden_to_left - movement) * 186;
    }
  } else if(pos == how_many_hidden_to_left + 1) {
    movement = calculateCorrectMovementHorizontalScrollLeft(how_many_hidden_to_left, 4);
    if(movement &gt; 0) {
      whole_movement = (how_many_hidden_to_left - movement) * 186;
    }
  }
  if(movement != 0) {
    $(&#x27;#video_editor_global_preview&#x27;).data(&#x27;arrows&#x27;, false);
    $(&#x27;#media_elements_list_in_video_editor&#x27;).jScrollPane().bind(&#x27;panescrollstop&#x27;, function() {
      $(&#x27;#video_editor_global_preview&#x27;).data(&#x27;arrows&#x27;, true);
      showVideoEditorPreviewComponentProgressBar(identifier, pos - (whole_movement &#x2F; 186));
      $(&#x27;#media_elements_list_in_video_editor&#x27;).jScrollPane().unbind(&#x27;panescrollstop&#x27;);
    });
    jsp_handler.scrollToX(whole_movement, true, (1000 * movement) &#x2F; 4);
  } else {
    showVideoEditorPreviewComponentProgressBar(identifier, pos - how_many_hidden_to_left);
  }
}

function showVideoEditorPreviewComponentProgressBar(identifier, position) {
  var component = $(&#x27;#video_component_&#x27; + identifier);
  var tool = $(&#x27;#video_editor_preview_slider&#x27;);
  if(!tool.is(&#x27;:visible&#x27;)) {
    tool.slider({
      min: 0,
      max: component.data(&#x27;duration&#x27;),
      value: component.data(&#x27;current-preview-time&#x27;),
      range: &#x27;min&#x27;,
      stop: function(event, ui) {
        var my_value = ui.value;
        if(my_value == component.data(&#x27;duration&#x27;)) {
          my_value = component.data(&#x27;duration&#x27;) - 1;
          tool.slider(&#x27;value&#x27;, my_value);
        }
        setVisualTimesVideoEditorPreview(component, my_value);
      }
    });
    tool.show();
    tool.css(&#x27;left&#x27;, (position - 1) * 186 + 3);
  }
}

function hideVideoEditorPreviewComponentProgressBar() {
  $(&#x27;#video_editor_preview_slider&#x27;).slider(&#x27;destroy&#x27;);
  $(&#x27;#video_editor_preview_slider&#x27;).hide();
}

function videoEditorDocumentReady() {
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#video_editor_preview_go_to_left_component&#x27;, function() {
    if($(&#x27;#video_editor_global_preview&#x27;).data(&#x27;arrows&#x27;)) {
      var prev_component = $(&#x27;#video_component_&#x27; + $(&#x27;#video_editor_global_preview&#x27;).data(&#x27;current-component&#x27;)).prev();
      loadVideoComponentIfNotLoadedYet(prev_component.attr(&#x27;id&#x27;));
      selectVideoComponentInPreview(prev_component);
      showVideoEditorPreviewArrowToComponents();
      hideVideoEditorPreviewComponentProgressBar();
      followPreviewComponentsWithHorizontalScrollInVideoEditor();
    }
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#video_editor_preview_go_to_right_component&#x27;, function() {
    if($(&#x27;#video_editor_global_preview&#x27;).data(&#x27;arrows&#x27;)) {
      var next_component = $(&#x27;#video_component_&#x27; + $(&#x27;#video_editor_global_preview&#x27;).data(&#x27;current-component&#x27;)).next();
      loadVideoComponentIfNotLoadedYet(next_component.attr(&#x27;id&#x27;));
      selectVideoComponentInPreview(next_component);
      showVideoEditorPreviewArrowToComponents();
      hideVideoEditorPreviewComponentProgressBar();
      followPreviewComponentsWithHorizontalScrollInVideoEditor();
    }
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#video_editor_global_preview_play&#x27;, function() {
    if(!$(this).data(&#x27;temporarily-disabled&#x27;)) {
      $(this).hide();
      $(&#x27;#video_editor_preview_slider_box_ghost&#x27;).show();
      $(&#x27;#video_editor_preview_go_to_left_component, #video_editor_preview_go_to_right_component&#x27;).hide();
      $(&#x27;#video_editor_global_preview_pause&#x27;).show();
      $(&#x27;#visual_video_editor_current_time&#x27;).css(&#x27;color&#x27;, &#x27;white&#x27;);
      $(&#x27;#visual_video_editor_total_length&#x27;).css(&#x27;color&#x27;, &#x27;#787575&#x27;);
      $(&#x27;#exit_video_editor_preview&#x27;).hide();
      startVideoEditorGlobalPreview();
    }
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#exit_video_editor_preview&#x27;, function() {
    hideVideoEditorPreviewComponentProgressBar();
    $(&#x27;#info_container&#x27;).data(&#x27;forced-kevin-luck-style&#x27;, &#x27;&#x27;);
    $(&#x27;#video_editor_global_preview_pause&#x27;).removeClass(&#x27;_enabled&#x27;);
    $(&#x27;#video_editor_preview_go_to_left_component, #video_editor_preview_go_to_right_component&#x27;).hide();
    $(&#x27;._video_component_preview&#x27;).hide();
    $(&#x27;._video_editor_component_hover, ._video_component_icon&#x27;).removeClass(&#x27;selected&#x27;);
    setVisualTimesVideoEditorPreview(getFirstVideoEditorComponent(), 0);
    resetVisibilityOfVideoEditorTransitions();
    $(&#x27;._video_editor_component&#x27;).each(function() {
      $(this).find(&#x27;._video_component_icon ._right&#x27;).html(secondsToDateString($(this).data(&#x27;duration&#x27;)));
    });
    $(&#x27;#full_audio_track_placeholder_in_video_editor, #empty_audio_track_placeholder_in_video_editor&#x27;).css(&#x27;visibility&#x27;, &#x27;visible&#x27;);
    $(&#x27;#media_elements_list_in_video_editor&#x27;).data(&#x27;jsp&#x27;).destroy();
    $(&#x27;#add_new_video_component&#x27;).show();
    $(&#x27;#add_new_video_component&#x27;).prev().find(&#x27;._video_component_transition&#x27;).show();
    $(&#x27;#add_new_video_component&#x27;).prev().css(&#x27;width&#x27;, &#x27;186&#x27;);
    var new_timeline_width = parseInt($(&#x27;#video_editor_timeline&#x27;).css(&#x27;width&#x27;).replace(&#x27;px&#x27;, &#x27;&#x27;)) + 184;
    $(&#x27;#video_editor_timeline&#x27;).css(&#x27;width&#x27;, new_timeline_width + &#x27;px&#x27;);
    $(&#x27;#media_elements_list_in_video_editor&#x27;).jScrollPane({
      autoReinitialise: true,
    });
    $(&#x27;#visual_video_editor_current_time&#x27;).css(&#x27;visibility&#x27;, &#x27;hidden&#x27;)
    $(&#x27;#video_editor_global_preview&#x27;).show();
    $(&#x27;#video_editor_global_preview_play&#x27;).hide();
    $(&#x27;#commit_video_editor&#x27;).show();
    $(&#x27;#exit_video_editor_preview&#x27;).hide();
    $(&#x27;#video_editor_box_ghost&#x27;).hide();
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#video_editor_global_preview_pause._enabled&#x27;, function() {
    $(&#x27;#video_editor_global_preview_play&#x27;).data(&#x27;temporarily-disabled&#x27;, true);
    setTimeout(function() {
      $(&#x27;#video_editor_global_preview_play&#x27;).data(&#x27;temporarily-disabled&#x27;, false);
    }, 1000);
    $(&#x27;#video_editor_preview_slider_box_ghost&#x27;).hide();
    $(&#x27;#video_editor_global_preview&#x27;).data(&#x27;in-use&#x27;, false);
    showVideoEditorPreviewArrowToComponents();
    $(this).hide();
    $(&#x27;#video_editor_global_preview_play&#x27;).show();
    $(&#x27;#exit_video_editor_preview&#x27;).show();
    $(&#x27;#visual_video_editor_current_time&#x27;).css(&#x27;color&#x27;, &#x27;#787575&#x27;);
    $(&#x27;#visual_video_editor_total_length&#x27;).css(&#x27;color&#x27;, &#x27;white&#x27;);
    var current_identifier = $(&#x27;#video_editor_global_preview&#x27;).data(&#x27;current-component&#x27;);
    var current_component = $(&#x27;#video_component_&#x27; + current_identifier);
    if($(&#x27;#video_component_&#x27; + current_identifier + &#x27;_preview video&#x27;).length &gt; 0) {
      $(&#x27;#video_component_&#x27; + current_identifier + &#x27;_preview video&#x27;)[0].pause();
      setCurrentTimeToMedia($(&#x27;#video_component_&#x27; + current_identifier + &#x27;_preview video&#x27;), ($(&#x27;#video_component_&#x27; + current_identifier + &#x27;_cutter&#x27;).data(&#x27;from&#x27;) + current_component.data(&#x27;current-preview-time&#x27;)));
    }
    if(videoEditorWithAudioTrack()) {
      $(&#x27;#video_editor_preview_container audio&#x27;)[0].pause();
    }
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#video_editor_global_preview._enabled&#x27;, function() {
    loadVideoComponentIfNotLoadedYet(getFirstVideoEditorComponent().attr(&#x27;id&#x27;));
    $(&#x27;#info_container&#x27;).data(&#x27;forced-kevin-luck-style&#x27;, &#x27;visibility:hidden&#x27;);
    var jsp_handler = $(&#x27;#media_elements_list_in_video_editor&#x27;).data(&#x27;jsp&#x27;);
    if(jsp_handler.getContentPositionX() &gt; 0) {
      $(&#x27;#media_elements_list_in_video_editor&#x27;).jScrollPane().bind(&#x27;panescrollstop&#x27;, function() {
        openPreviewModeInVideoEditor();
        $(&#x27;#media_elements_list_in_video_editor&#x27;).jScrollPane().unbind(&#x27;panescrollstop&#x27;);
      });
      $(&#x27;#media_elements_list_in_video_editor&#x27;).data(&#x27;jsp&#x27;).scrollToPercentX(0, true);
    } else {
      openPreviewModeInVideoEditor();
    }
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._video_component_cutter_button&#x27;, function() {
    var component_id = $(this).parents(&#x27;._video_editor_component&#x27;).attr(&#x27;id&#x27;);
    if(!$(&#x27;#&#x27; + component_id + &#x27;_preview&#x27;).is(&#x27;:visible&#x27;)) {
      startVideoEditorPreviewClip(component_id);
    }
    $(&#x27;#video_editor_box_ghost&#x27;).show();
    $(&#x27;#video_editor_global_preview&#x27;).removeClass(&#x27;_enabled&#x27;);
    var pos = $(&#x27;#&#x27; + component_id).data(&#x27;position&#x27;);
    var scroll_to = getNormalizedPositionTimelineHorizontalScrollPane(&#x27;media_elements_list_in_video_editor&#x27;, 186, pos, 5);
    if($(&#x27;#&#x27; + component_id + &#x27;_cutter&#x27;).hasClass(&#x27;_mini_cutter&#x27;)) {
      $(&#x27;#&#x27; + component_id + &#x27;_cutter&#x27;).css(&#x27;left&#x27;, (3 + getAbsolutePositionTimelineHorizontalScrollPane(&#x27;media_elements_list_in_video_editor&#x27;, 186, pos, 5)));
    }
    var jsp_handler = $(&#x27;#media_elements_list_in_video_editor&#x27;).data(&#x27;jsp&#x27;);
    if(scroll_to != jsp_handler.getContentPositionX() &amp;&amp; jsp_handler.getPercentScrolledX() != 1) {
      $(&#x27;#media_elements_list_in_video_editor&#x27;).jScrollPane().bind(&#x27;panescrollstop&#x27;, function() {
        showVideoEditorCutter(component_id);
        $(&#x27;#media_elements_list_in_video_editor&#x27;).jScrollPane().unbind(&#x27;panescrollstop&#x27;);
      });
      jsp_handler.scrollToX(scroll_to, true);
    } else {
      showVideoEditorCutter(component_id);
    }
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._media_player_done_video_component_in_video_editor_preview&#x27;, function() {
    closeGenericVideoComponentCutter();
    var component_id = $(this).parents(&#x27;._video_component_cutter&#x27;).attr(&#x27;id&#x27;);
    var identifier = getVideoComponentIdentifier(component_id);
    $(&#x27;#video_component_&#x27; + identifier + &#x27;_cutter ._double_slider .ui-slider-handle&#x27;).removeClass(&#x27;selected&#x27;);
    stopVideoInVideoEditorPreview(identifier);
    commitVideoComponentVideoCutter(identifier);
    $(&#x27;#video_editor_global_preview&#x27;).addClass(&#x27;_enabled&#x27;);
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._media_player_done_other_component_in_video_editor_preview&#x27;, function() {
    var component_id = $(this).parents(&#x27;._video_component_cutter&#x27;).attr(&#x27;id&#x27;);
    var identifier = getVideoComponentIdentifier(component_id);
    var duration = $(&#x27;#&#x27; + component_id + &#x27; ._duration_selector input&#x27;).val();
    if(duration == &#x27;&#x27;) {
      closeGenericVideoComponentCutter();
    } else {
      duration = parseInt(duration);
      if(isNaN(duration) || duration &lt; 1) {
        showErrorPopUp($(&#x27;#popup_captions_container&#x27;).data(&#x27;invalid-component-duration-in-video-editor&#x27;));
      } else {
        closeGenericVideoComponentCutter();
        changeDurationVideoEditorComponent((&#x27;video_component_&#x27; + identifier), duration);
        $(&#x27;#&#x27; + component_id + &#x27; ._duration_selector input&#x27;).val(&#x27;&#x27;);
        $(&#x27;#&#x27; + component_id + &#x27; ._old&#x27;).html(secondsToDateString(duration));
        $(&#x27;#video_component_&#x27; + identifier + &#x27; ._video_component_input_duration&#x27;).val(duration);
        highlightAndUpdateVideoComponentIcon(&#x27;video_component_&#x27; + identifier);
      }
    }
    $(&#x27;#video_editor_global_preview&#x27;).addClass(&#x27;_enabled&#x27;);
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._exit_video_editor&#x27;, function() {
    stopCacheLoop();
    var captions = $(&#x27;#popup_captions_container&#x27;);
    showConfirmPopUp(captions.data(&#x27;exit-video-editor-title&#x27;), captions.data(&#x27;exit-video-editor-confirm&#x27;), captions.data(&#x27;exit-video-editor-yes&#x27;), captions.data(&#x27;exit-video-editor-no&#x27;), function() {
      $(&#x27;dialog-confirm&#x27;).hide();
      $.ajax({
        type: &#x27;post&#x27;,
        url: &#x27;&#x2F;videos&#x2F;cache&#x2F;empty&#x27;,
        beforeSend: unbindLoader(),
        success: function() {
          window.location = &#x27;&#x2F;media_elements&#x27;;
        }
      }).always(bindLoader);
    }, function() {
      if($(&#x27;#form_info_update_media_element_in_editor&#x27;).length == 0) {
        if(!$(&#x27;#form_info_new_media_element_in_editor&#x27;).is(&#x27;:visible&#x27;)) {
          startCacheLoop();
        }
      } else {
        if(!$(&#x27;#form_info_new_media_element_in_editor&#x27;).is(&#x27;:visible&#x27;) &amp;&amp; !$(&#x27;#form_info_update_media_element_in_editor&#x27;).is(&#x27;:visible&#x27;)) {
          startCacheLoop();
        }
      }
      closePopUp(&#x27;dialog-confirm&#x27;);
    });
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._remove_component_from_video_editor_button&#x27;, function() {
    var component = $(this).parents(&#x27;._video_editor_component&#x27;);
    var identifier = getVideoComponentIdentifier(component.attr(&#x27;id&#x27;));
    $(&#x27;#video_component_&#x27; + identifier).hide(&#x27;fade&#x27;, {}, 500, function() {
      $(&#x27;#video_component_&#x27; + identifier + &#x27;_preview&#x27;).remove();
      $(&#x27;#video_component_&#x27; + identifier + &#x27;_cutter&#x27;).remove();
      changeDurationVideoEditorComponent((&#x27;video_component_&#x27; + identifier), 0);
      $(&#x27;#media_elements_list_in_video_editor&#x27;).data(&#x27;jsp&#x27;).destroy();
      $(this).remove();
      reloadVideoEditorComponentPositions();
      var old_timeline_width = parseInt($(&#x27;#video_editor_timeline&#x27;).css(&#x27;width&#x27;).replace(&#x27;px&#x27;, &#x27;&#x27;));
      $(&#x27;#video_editor_timeline&#x27;).css(&#x27;width&#x27;, ((old_timeline_width - 186) + &#x27;px&#x27;));
      $(&#x27;#media_elements_list_in_video_editor&#x27;).jScrollPane({
        autoReinitialise: true
      });
      resetVisibilityOfVideoEditorTransitions();
      if($(&#x27;._video_editor_component&#x27;).length == 0) {
        $(&#x27;#video_editor_global_preview&#x27;).removeClass(&#x27;_enabled&#x27;);
        $(&#x27;#video_editor_global_preview a&#x27;).addClass(&#x27;disabled&#x27;);
        $(&#x27;#commit_video_editor&#x27;).css(&#x27;visibility&#x27;, &#x27;hidden&#x27;);
      }
    });
  });
  
  $(&#x27;body&#x27;).on(&#x27;mouseover&#x27;, &#x27;._video_editor_component_hover&#x27;, function() {
    var father = $(this).parent();
    if(father.data(&#x27;rolloverable&#x27;)) {
      father.data(&#x27;preview-selected&#x27;, true);
      startVideoEditorPreviewClipWithDelay(father.attr(&#x27;id&#x27;));
      $(&#x27;#&#x27; + father.attr(&#x27;id&#x27;) + &#x27; ._video_editor_component_menu&#x27;).show();
    }
  });
  
  $(&#x27;body&#x27;).on(&#x27;mouseout&#x27;, &#x27;._video_editor_component_hover&#x27;, function() {
    var father = $(this).parent();
    father.data(&#x27;preview-selected&#x27;, false);
    if(father.data(&#x27;rolloverable&#x27;)) {
      $(&#x27;#&#x27; + father.attr(&#x27;id&#x27;) + &#x27; ._video_editor_component_menu&#x27;).hide();
    }
  });
  
  $(&#x27;body&#x27;).on(&#x27;mouseover&#x27;, &#x27;._new_component_in_video_editor_hover&#x27;, function() {
    $(&#x27;._new_component_in_video_editor_hover a&#x27;).addClass(&#x27;current&#x27;);
  });
  
  $(&#x27;body&#x27;).on(&#x27;mouseout&#x27;, &#x27;._new_component_in_video_editor_hover&#x27;, function() {
    $(&#x27;._new_component_in_video_editor_hover a&#x27;).removeClass(&#x27;current&#x27;);
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._new_component_in_video_editor_button&#x27;, function() {
    var father = $(this).parent().parent().parent().parent();
    var infos = $(&#x27;#info_container&#x27;);
    if($(this).hasClass(&#x27;_replace_component&#x27;)) {
      infos.data(&#x27;replacing-component&#x27;, true);
      infos.data(&#x27;current-component&#x27;, father.attr(&#x27;id&#x27;));
    } else {
      infos.data(&#x27;replacing-component&#x27;, false);
    }
    if($(&#x27;#video_editor_mixed_gallery_container&#x27;).data(&#x27;loaded&#x27;)) {
      showGalleryInVideoEditor(&#x27;mixed&#x27;);
      resetVideoEditorTextComponent();
    } else {
      $.ajax({
        type: &#x27;get&#x27;,
        url: &#x27;&#x2F;videos&#x2F;galleries&#x27;
      });
    }
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._show_audio_gallery_in_video_editor&#x27;, function() {
    if($(&#x27;#video_editor_audio_gallery_container&#x27;).data(&#x27;loaded&#x27;)) {
      showGalleryInVideoEditor(&#x27;audio&#x27;);
    } else {
      $.ajax({
        type: &#x27;get&#x27;,
        url: &#x27;&#x2F;videos&#x2F;galleries&#x2F;audio&#x27;
      });
    }
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#video_editor_mixed_gallery_container ._switch_video&#x27;, function() {
    $(&#x27;._switch_image, ._switch_text&#x27;).removeClass(&#x27;current&#x27;);
    $(this).addClass(&#x27;current&#x27;);
    switchToOtherGalleryInMixedGalleryInVideoEditor(&#x27;._videos&#x27;);
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#video_editor_mixed_gallery_container ._switch_image&#x27;, function() {
    $(&#x27;._switch_video, ._switch_text&#x27;).removeClass(&#x27;current&#x27;);
    $(this).addClass(&#x27;current&#x27;);
    switchToOtherGalleryInMixedGalleryInVideoEditor(&#x27;._images&#x27;);
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#video_editor_mixed_gallery_container ._switch_text&#x27;, function() {
    $(&#x27;._switch_image, ._switch_video&#x27;).removeClass(&#x27;current&#x27;);
    $(this).addClass(&#x27;current&#x27;);
    switchToOtherGalleryInMixedGalleryInVideoEditor(&#x27;._texts&#x27;);
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._add_video_component_to_video_editor&#x27;, function() {
    var video_id = $(this).data(&#x27;video-id&#x27;);
    var popup_id = &#x27;dialog-video-gallery-&#x27; + video_id;
    var component = $(&#x27;#&#x27; + popup_id + &#x27; ._temporary&#x27;).html();
    var webm = $(&#x27;#&#x27; + popup_id + &#x27; source[type=&quot;video&#x2F;webm&quot;]&#x27;).attr(&#x27;src&#x27;);
    var mp4 = $(&#x27;#&#x27; + popup_id + &#x27; source[type=&quot;video&#x2F;mp4&quot;]&#x27;).attr(&#x27;src&#x27;);
    var duration = $(this).data(&#x27;duration&#x27;);
    closePopUp(popup_id);
    setTimeout(function() {
      closeGalleryInVideoEditor(&#x27;mixed&#x27;);
    }, 700);
    if($(&#x27;#info_container&#x27;).data(&#x27;replacing-component&#x27;)) {
      var current_component = $(&#x27;#info_container&#x27;).data(&#x27;current-component&#x27;);
      setTimeout(function() {
        highlightAndUpdateVideoComponentIcon(current_component);
      }, 1400);
      replaceVideoComponentInVideoEditor(video_id, webm, mp4, component, current_component, duration);
    } else {
      addVideoComponentInVideoEditor(video_id, webm, mp4, component, duration);
    }
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._add_image_component_to_video_editor&#x27;, function() {
    var popup_id = &#x27;dialog-image-gallery-&#x27; + $(this).data(&#x27;image-id&#x27;);
    $(&#x27;#&#x27; + popup_id + &#x27; ._bottom_of_image_popup_in_gallery&#x27;).hide();
    $(&#x27;#&#x27; + popup_id + &#x27; ._duration_selector&#x27;).show();
    $(&#x27;#&#x27; + popup_id + &#x27; ._duration_selector input&#x27;).val(&#x27;&#x27;);
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._add_image_component_to_video_editor_after_select_duration&#x27;, function() {
    var image_id = $(this).data(&#x27;image-id&#x27;)
    var popup_id = &#x27;dialog-image-gallery-&#x27; + image_id;
    var duration = parseInt($(&#x27;#&#x27; + popup_id + &#x27; input&#x27;).val());
    if(isNaN(duration) || duration &lt; 1) {
      showErrorPopUp($(&#x27;#popup_captions_container&#x27;).data(&#x27;invalid-component-duration-in-video-editor&#x27;));
    } else {
      var component = $(&#x27;#&#x27; + popup_id + &#x27; ._temporary ._video_component_thumb&#x27;)[0].outerHTML;
      var preview = $(&#x27;#&#x27; + popup_id + &#x27; ._temporary ._image_preview_in_video_editor_gallery&#x27;).html();
      closePopUp(popup_id);
      setTimeout(function() {
        closeGalleryInVideoEditor(&#x27;mixed&#x27;);
      }, 700);
      if($(&#x27;#info_container&#x27;).data(&#x27;replacing-component&#x27;)) {
        var current_component = $(&#x27;#info_container&#x27;).data(&#x27;current-component&#x27;);
        setTimeout(function() {
          highlightAndUpdateVideoComponentIcon(current_component);
        }, 1400);
        replaceImageComponentInVideoEditor(image_id, component, preview, current_component, duration);
      } else {
        addImageComponentInVideoEditor(image_id, component, preview, duration);
      }
    }
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._add_audio_track_to_video_editor&#x27;, function() {
    $(&#x27;#video_editor_preview_container ._audio_track_preview&#x27;).remove();
    if(!$(&#x27;#video_editor_preview_container video&#x27;).prop(&#x27;muted&#x27;)) {
      $(&#x27;#video_editor_preview_container video&#x27;).prop(&#x27;muted&#x27;, true);
    }
    var audio_id = $(this).data(&#x27;audio-id&#x27;);
    closeGalleryInVideoEditor(&#x27;audio&#x27;);
    stopMedia(&#x27;._audio_expanded_in_gallery audio&#x27;);
    $(&#x27;._audio_expanded_in_gallery ._expanded&#x27;).hide();
    $(&#x27;._audio_expanded_in_gallery&#x27;).removeClass(&#x27;_audio_expanded_in_gallery&#x27;);
    $(&#x27;#audio_track_in_video_editor_input&#x27;).val(audio_id);
    $(&#x27;#empty_audio_track_placeholder_in_video_editor&#x27;).hide();
    $(&#x27;#full_audio_track_placeholder_in_video_editor&#x27;).show();
    $(&#x27;#full_audio_track_placeholder_in_video_editor&#x27;).data(&#x27;duration&#x27;, $(this).data(&#x27;duration&#x27;));
    var new_html_title = $(&#x27;#gallery_audio_&#x27; + audio_id + &#x27; ._compact p&#x27;).html();
    new_html_title += (&#x27;&lt;br&#x2F;&gt;&#x27; + secondsToDateString($(this).data(&#x27;duration&#x27;)));
    $(&#x27;#full_audio_track_placeholder_in_video_editor ._title&#x27;).html(new_html_title);
    $(&#x27;#video_editor_preview_container&#x27;).append($(&#x27;#empty_audio_track_preview_for_video_editor&#x27;).html());
    var new_audio_track = $(&#x27;#video_editor_preview_container ._audio_track_preview&#x27;);
    new_audio_track.data(&#x27;duration&#x27;, $(this).data(&#x27;duration&#x27;));
    new_audio_track.find(&#x27;source[type=&quot;audio&#x2F;mp3&quot;]&#x27;).attr(&#x27;src&#x27;, $(this).data(&#x27;mp3&#x27;));
    new_audio_track.find(&#x27;source[type=&quot;audio&#x2F;ogg&quot;]&#x27;).attr(&#x27;src&#x27;, $(this).data(&#x27;ogg&#x27;));
    new_audio_track.find(&#x27;audio&#x27;).load();
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#full_audio_track_placeholder_in_video_editor ._remove&#x27;, function() {
    $(&#x27;#video_editor_preview_container video&#x27;).prop(&#x27;muted&#x27;, false);
    var audio_id = $(&#x27;#audio_track_in_video_editor_input&#x27;).val();
    $(&#x27;#video_editor_preview_container ._audio_track_preview&#x27;).remove();
    $(&#x27;#audio_track_in_video_editor_input&#x27;).val(&#x27;&#x27;);
    $(&#x27;#full_audio_track_placeholder_in_video_editor&#x27;).hide();
    $(&#x27;#empty_audio_track_placeholder_in_video_editor&#x27;).show();
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._image_gallery_thumb_in_mixed_gallery_video_editor&#x27;, function(e) {
    e.preventDefault();
    var image_id = $(this).data(&#x27;image-id&#x27;);
    showImageInGalleryPopUp(image_id, function() {
      var popup_id = &#x27;dialog-image-gallery-&#x27; + image_id;
      $(&#x27;#&#x27; + popup_id + &#x27; ._bottom_of_image_popup_in_gallery&#x27;).show();
      $(&#x27;#&#x27; + popup_id + &#x27; ._duration_selector&#x27;).hide();
    });
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._text_component_in_video_editor_background_color_selector ._color&#x27;, function() {
    var old_background_color = $(&#x27;#text_component_preview&#x27;).data(&#x27;background-color&#x27;);
    var new_background_color = $(this).data(&#x27;color&#x27;);
    switchTextComponentBackgroundColor(old_background_color, new_background_color);
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._text_component_in_video_editor_text_color_selector ._color&#x27;, function() {
    var old_text_color = $(&#x27;#text_component_preview&#x27;).data(&#x27;text-color&#x27;);
    var new_text_color = $(this).data(&#x27;color&#x27;);
    switchTextComponentTextColor(old_text_color, new_text_color);
  });
  
  $(&#x27;body&#x27;).on(&#x27;focus&#x27;, &#x27;#text_component_preview textarea&#x27;, function() {
    var preview = $(&#x27;#text_component_preview&#x27;);
    if(preview.data(&#x27;placeholder&#x27;)) {
      preview.data(&#x27;placeholder&#x27;, false);
      $(this).val(&#x27;&#x27;);
    }
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#insert_text_component_in_video_editor&#x27;, function() {
    var preview = $(&#x27;#text_component_preview&#x27;);
    var background_color = preview.data(&#x27;background-color&#x27;);
    var text_color = preview.data(&#x27;text-color&#x27;);
    var duration = parseInt($(&#x27;#video_editor_mixed_gallery_container ._texts ._duration_selector input&#x27;).val());
    if(isNaN(duration) || duration &lt; 1) {
      showErrorPopUp($(&#x27;#popup_captions_container&#x27;).data(&#x27;invalid-component-duration-in-video-editor&#x27;));
    } else if(preview.data(&#x27;placeholder&#x27;)) {
      showErrorPopUp($(&#x27;#popup_captions_container&#x27;).data(&#x27;empty-text-component-in-video-editor&#x27;));
    } else {
      var content = $(&#x27;#text_component_preview textarea&#x27;).val().split(&quot;\n&quot;).join(&#x27;&lt;br&#x2F;&gt;&#x27;);
      var component = $(&#x27;#video_editor_mixed_gallery_container ._texts ._temporary&#x27;).html();
      closeGalleryInVideoEditor(&#x27;mixed&#x27;);
      if($(&#x27;#info_container&#x27;).data(&#x27;replacing-component&#x27;)) {
        var current_component = $(&#x27;#info_container&#x27;).data(&#x27;current-component&#x27;);
        setTimeout(function() {
          highlightAndUpdateVideoComponentIcon(current_component);
        }, 700);
        replaceTextComponentInVideoEditor(component, content, current_component, duration, background_color, text_color);
      } else {
        addTextComponentInVideoEditor(component, content, duration, background_color, text_color);
      }
    }
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#commit_video_editor&#x27;, function() {
    stopCacheLoop();
    submitMediaElementEditorCacheForm($(&#x27;#video_editor_form&#x27;));
    if($(this).hasClass(&#x27;_with_choice&#x27;)) {
      var captions = $(&#x27;#popup_captions_container&#x27;);
      var title = captions.data(&#x27;save-media-element-editor-title&#x27;);
      var confirm = captions.data(&#x27;save-media-element-editor-confirm&#x27;);
      var yes = captions.data(&#x27;save-media-element-editor-yes&#x27;);
      var no = captions.data(&#x27;save-media-element-editor-no&#x27;);
      showConfirmPopUp(title, confirm, yes, no, function() {
        closePopUp(&#x27;dialog-confirm&#x27;);
        $(&#x27;._video_editor_bottom_bar&#x27;).hide();
        $(&#x27;#video_editor #form_info_update_media_element_in_editor&#x27;).show();
      }, function() {
        closePopUp(&#x27;dialog-confirm&#x27;);
        $(&#x27;#video_editor_title ._titled&#x27;).hide();
        $(&#x27;#video_editor_title ._untitled&#x27;).show();
        $(&#x27;._video_editor_bottom_bar&#x27;).hide();
        $(&#x27;#video_editor #form_info_new_media_element_in_editor&#x27;).show();
      });
    } else {
      $(&#x27;._video_editor_bottom_bar&#x27;).hide();
      $(&#x27;#video_editor #form_info_new_media_element_in_editor&#x27;).show();
    }
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#video_editor #form_info_new_media_element_in_editor ._commit&#x27;, function() {
    $(&#x27;#video_editor_form&#x27;).attr(&#x27;action&#x27;, &#x27;&#x2F;videos&#x2F;commit&#x2F;new&#x27;);
    $(&#x27;#video_editor_form&#x27;).submit();
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#video_editor #form_info_update_media_element_in_editor ._commit&#x27;, function() {
    if($(&#x27;#info_container&#x27;).data(&#x27;used-in-private-lessons&#x27;)) {
      var captions = $(&#x27;#popup_captions_container&#x27;);
      var title = captions.data(&#x27;overwrite-media-element-editor-title&#x27;);
      var confirm = captions.data(&#x27;overwrite-media-element-editor-confirm&#x27;);
      var yes = captions.data(&#x27;overwrite-media-element-editor-yes&#x27;);
      var no = captions.data(&#x27;overwrite-media-element-editor-no&#x27;);
      showConfirmPopUp(title, confirm, yes, no, function() {
        $(&#x27;dialog-confirm&#x27;).hide();
        $(&#x27;#video_editor_form&#x27;).attr(&#x27;action&#x27;, &#x27;&#x2F;videos&#x2F;commit&#x2F;overwrite&#x27;);
        $(&#x27;#video_editor_form&#x27;).submit();
      }, function() {
        closePopUp(&#x27;dialog-confirm&#x27;);
      });
    } else {
      $(&#x27;#video_editor_form&#x27;).attr(&#x27;action&#x27;, &#x27;&#x2F;videos&#x2F;commit&#x2F;overwrite&#x27;);
      $(&#x27;#video_editor_form&#x27;).submit();
    }
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#video_editor #form_info_new_media_element_in_editor ._cancel&#x27;, function() {
    $(&#x27;#video_editor_form&#x27;).attr(&#x27;action&#x27;, &#x27;&#x2F;videos&#x2F;cache&#x2F;save&#x27;);
    resetMediaElementEditorForms();
    if($(&#x27;#video_editor_title ._titled&#x27;).length &gt; 0) {
      $(&#x27;#video_editor_title ._titled&#x27;).show();
      $(&#x27;#video_editor_title ._untitled&#x27;).hide();
    }
    $(&#x27;._video_editor_bottom_bar&#x27;).show();
    $(&#x27;#video_editor #form_info_new_media_element_in_editor&#x27;).hide();
    startCacheLoop();
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;#video_editor #form_info_update_media_element_in_editor ._cancel&#x27;, function() {
    $(&#x27;#video_editor_form&#x27;).attr(&#x27;action&#x27;, &#x27;&#x2F;videos&#x2F;cache&#x2F;save&#x27;);
    resetMediaElementEditorForms();
    $(&#x27;._video_editor_bottom_bar&#x27;).show();
    $(&#x27;#video_editor #form_info_update_media_element_in_editor&#x27;).hide();
    startCacheLoop();
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._video_component_cutter ._precision_arrow_left&#x27;, function() {
    var cutter = $(this).parents(&#x27;._video_component_cutter&#x27;);
    var identifier = getVideoComponentIdentifier(cutter.attr(&#x27;id&#x27;));
    var single_slider = cutter.find(&#x27;._media_player_slider&#x27;);
    var double_slider = cutter.find(&#x27;._double_slider&#x27;);
    if(single_slider.find(&#x27;.ui-slider-handle&#x27;).hasClass(&#x27;selected&#x27;)) {
      var resp = single_slider.slider(&#x27;value&#x27;);
      if(resp &gt; 0 &amp;&amp; resp &gt; double_slider.slider(&#x27;values&#x27;, 0)) {
        selectVideoComponentCutterHandle(cutter, resp - 1);
      }
    } else if(double_slider.find(&#x27;.ui-slider-handle&#x27;).first().hasClass(&#x27;selected&#x27;)) {
      var resp = double_slider.slider(&#x27;values&#x27;, 0);
      if(resp &gt; 0) {
        double_slider.slider(&#x27;values&#x27;, 0, resp - 1);
        cutVideoComponentLeftSide(identifier, resp - 1);
      }
    } else {
      var resp = double_slider.slider(&#x27;values&#x27;, 1);
      if(resp &gt; double_slider.slider(&#x27;values&#x27;, 0) + 1) {
        if(single_slider.slider(&#x27;value&#x27;) == resp) {
          selectVideoComponentCutterHandle(cutter, resp - 1);
        }
        double_slider.slider(&#x27;values&#x27;, 1, resp - 1);
        cutVideoComponentRightSide(identifier, resp - 1);
      }
    }
  });
  
  $(&#x27;body&#x27;).on(&#x27;click&#x27;, &#x27;._video_component_cutter ._precision_arrow_right&#x27;, function() {
    var cutter = $(this).parents(&#x27;._video_component_cutter&#x27;);
    var identifier = getVideoComponentIdentifier(cutter.attr(&#x27;id&#x27;));
    var duration = cutter.data(&#x27;max-to&#x27;);
    var single_slider = cutter.find(&#x27;._media_player_slider&#x27;);
    var double_slider = cutter.find(&#x27;._double_slider&#x27;);
    if(single_slider.find(&#x27;.ui-slider-handle&#x27;).hasClass(&#x27;selected&#x27;)) {
      var resp = single_slider.slider(&#x27;value&#x27;);
      if(resp &lt; duration &amp;&amp; resp &lt; double_slider.slider(&#x27;values&#x27;, 1)) {
        selectVideoComponentCutterHandle(cutter, resp + 1);
      }
    } else if(double_slider.find(&#x27;.ui-slider-handle&#x27;).first().hasClass(&#x27;selected&#x27;)) {
      var resp = double_slider.slider(&#x27;values&#x27;, 0);
      if(resp &lt; double_slider.slider(&#x27;values&#x27;, 1) - 1) {
        if(single_slider.slider(&#x27;value&#x27;) == resp) {
          selectVideoComponentCutterHandle(cutter, resp + 1);
        }
        double_slider.slider(&#x27;values&#x27;, 0, resp + 1);
        cutVideoComponentLeftSide(identifier, resp + 1);
      }
    } else {
      var resp = double_slider.slider(&#x27;values&#x27;, 1);
      if(resp &lt; duration) {
        double_slider.slider(&#x27;values&#x27;, 1, resp + 1);
        cutVideoComponentRightSide(identifier, resp + 1);
      }
    }
  });
  
  initializeVideoEditor();
  
}

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
