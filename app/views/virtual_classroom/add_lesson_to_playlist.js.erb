<% if @ok %>
  var object = $('#virtual_classroom_lesson_<%= @lesson_id %>');
  $('#virtual_classroom_playlist').replaceWith('<%= j(render(:partial => "virtual_classroom/playlist", :locals => {:lessons => @playlist, :tot_number => @playlist_tot})) %>');
  object.draggable('disable');
  object.data('in-playlist', true);
  reloadPlaylist();
  $('#virtual_classroom_playlist').data('tot-number', <%= @playlist_tot %>);
  $('#virtual_classroom_playlist').effect('highlight', {color: '#6E6363'}, 1000);
<% else %>
  showErrorPopUp('<%= j @error %>');
  $('#virtual_classroom_lesson_<%= @lesson_id %> ._cover_slide_thumb').removeClass('current');
<% end %>
