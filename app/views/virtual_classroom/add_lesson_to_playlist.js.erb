<% if @ok %>
  var object = $('#virtual_classroom_lesson_<%= @lesson_id %>');
  $('#virtual_classroom_playlist').effect('highlight', {color: '#6E6363'}, 1000, function() {
    $('#virtual_classroom_playlist').replaceWith('<%= j(render(:partial => "virtual_classroom/playlist", :locals => {:lessons => @playlist})) %>');
    object.draggable('disable');
    object.data('in-playlist', true);
    initializePlaylist();
    $('#virtual_classroom_playlist .scroll-pane').jScrollPane();
  });
<% else %>
  showErrorPopUp('<%= j @error %>');
  $('#virtual_classroom_lesson_<%= @lesson_id %> ._cover_slide_thumb').removeClass('current');
<% end %>
