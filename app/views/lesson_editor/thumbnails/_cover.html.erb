<%
  image = slide.media_elements_at
  author = slide.lesson.user
  subject = slide.lesson.subject
  image_height = resize_height(image.media_element.width, image.media_element.height, 'cover') if image
  image_width = resize_width(image.media_element.width, image.media_element.height, 'cover') if image
%>


<div class="slide-content cover small-size">
  
  <div class="image-container item">
    
    <% if image %>
      <div class="image read-only">
        <% if slide.is_horizontal?(image.media_element.width, image.media_element.height) %>
          <%= image_tag image.media_element.url, :style => "left:#{image.alignment}px; width:#{image_width}px" %>
        <% else %>
          <%= image_tag image.media_element.url, :style => "top:#{image.alignment}px; height:#{image_height}px" %>
        <% end %>
      </div>
    <% else %>
      <div class="image editable">
        <div class="empty-mask">
          <a class="add" data-position="1"></a>
          <br/>
          <p class="lower"><%= t('lesson_editor.choose_image') %></p>
        </div>
      </div>
    <% end %>
    
    <div class="title-container">
      <div class="lessonTitle"><%= slide.lesson.title %></div>
    </div>
    
  </div>
  
  <div class="footer-container item">
    <div class="subject pull-left">
      <%= subject.description %>
    </div>
    <div class="author pull-right">
      <%= t('lessons.author') %>: <span class="name"><%= author.full_name %></span>
    </div>
  </div>
  
</div>
