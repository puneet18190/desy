<%
  title_max = t('forms.placeholders.title', :num => t('language_parameters.media_element.length_title').to_s).downcase
  description_max = t('forms.placeholders.description', :num => t('language_parameters.media_element.length_description').to_s).downcase
  tags_max = t('forms.placeholders.tags', :items => SETTINGS['min_tags_for_item'].to_s, :num => SETTINGS['max_tag_length'].to_s).downcase
%>

<div id="load-media-element" class="mediaElementLoader" style="display:none" data-placeholder-title="<%= title_max %>" data-placeholder-description="<%= description_max %>" data-placeholder-tags="<%= tags_max %>" data-placeholder-media="<%= t('forms.placeholders.media').downcase %>">
  <%= form_tag media_elements_path, :method => :post, :id => 'new_media_element', :multipart => true, :autocomplete => 'off' do %>
    <div class="part1">
      <div class="attachment">
        <label>
          <span>
            <input type="file" id="new_media_element_input" name="media"/>
          </span>
        </label>
        <input id="media_element_media_show" disabled="disabled" value=""/>
      </div>
      <div class="title_and_subtitle">
        <h1>
          <%= t('forms.upload_media_element.title') %>
        </h1>
        <p>
          <%= t('forms.upload_media_element.description') %>
        </p>
      </div>
    </div>
    <div class="part2">
      <div class="title_and_description">
        <input class="title" type="text" value="" name="title"/>
        <input class="title_placeholder" type="hidden" value="" name="title_placeholder"/>
        <textarea class="description" name="description"></textarea>
        <input class="description_placeholder" type="hidden" value="" name="description_placeholder"/>
      </div>
      <div class="tags_loader">
        <div class="_tags_container">
          <input class="tags" type="text" value="" maxlength="<%= SETTINGS['max_tag_length'] %>"/>
          <div class="_placeholder">
            <%= tags_max %>
          </div>
          <input class="tags_value" type="hidden" value="" name="tags_value"/>
        </div>
      </div>
    </div>
    
    <!-- TODO formms arrivato qui -->
    
    <div class="part3">
      <div class="fltrt lower">
        <div class="fltlft" style="margin-top:5px">
          <a class="_close buttonForm">
            <%= t('forms.upload_media_element.cancel') %>
          </a>
        </div>
        <div class="fltrt">
          <%= submit_tag t('forms.upload_media_element.done').downcase, :id => 'new_media_element_submit', :style => 'padding:0px' %>
        </div>
      </div>
    </div>
  <% end %>
</div>
