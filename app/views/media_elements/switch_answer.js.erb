<% if @ok %>
  <% expanded = false %>
  <% if [ButtonDestinations::EXPANDED_MEDIA_ELEMENT, ButtonDestinations::EXPANDED_MEDIA_ELEMENT_IN_DASHBOARD].include?(@destination) %>
    <% expanded = true %>
    var target = $('#media_element_expanded_<%= @media_element_id %>');
  <% elsif @destination == ButtonDestinations::COMPACT_MEDIA_ELEMENT %>
    var target = $('#media_element_compact_<%= @media_element_id %>');
  <% end %>
  target.html("<%= escape_javascript(render(:partial => "media_element/view_single", :locals => {:media_element => @media_element, :expanded => expanded})) %>");
<% else %>
  showErrorPopUp('<%= @error %>', 'Error!!');
<% end %>
