<%
  url_type ||= nil
  image = slide.image_at(1)
  author = slide.lesson.user
  subject = slide.lesson.subject
%>

<div class="slide-content cover normal-size">
  
  <div class="image-container item">
    
    <div class="image read-only">
      <% if image %>
        <%
          url = image.media_element.url(url_type)
          width, height = image.media_element.width, image.media_element.height
          effective_url = loaded ? url : ''
        %>
        <% if is_horizontal?(width, height, 'cover') %>
          <% resized_width = resize_width(width, height, 'cover') %>
          <%= image_tag effective_url, :style => "left:#{image.alignment}px; width:#{resized_width}px", :data => {:url => url} %>
        <% else %>
          <% resized_height = resize_height(width, height, 'cover') %>
          <%= image_tag effective_url, :style => "top:#{image.alignment}px; height:#{resized_height}px", :data => {:url => url} %>
        <% end %>
      <% end %>
    </div>
    
    <div class="title-container">
      <div class="lessonTitle"><%= slide.lesson.title %></div>
    </div>
    
  </div>
  
  <div class="footer-container item">
    <div class="subject pull-left">
      <%= subject.description %>
    </div>
    <div class="author pull-right">
      <%= t('lessons.author') %>: <span class="name"><%= author.full_name %></span>
    </div>
  </div>
  
</div>
